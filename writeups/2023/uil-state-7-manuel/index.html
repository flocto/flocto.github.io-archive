<!doctype html><html lang=en-us><head><title>UIL State CS Packet #7: Manuel | flocto</title><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=generator content="Hugo 0.115.4"><link rel=canonical href=/writeups/2023/uil-state-7-manuel/><link href=/sass/main.min.c404f77850d7537fd75fd672eccb9290723f3f99d3b00709b78a731d5969ada8.css rel=stylesheet></head><body><div class=flexWrapper><header class=headerWrapper><div class=header><div><a href=/><span class=terminal>fl@cto ~ $</span></a></div><nav class=headerLinks><ul><li><a href=/about title>~/about</a></li><li><a href=/projects title>~/projects</a></li><li><a href=/writeups title>~/writeups</a></li><li><a href=/blog title>~/blog</a></li><li><a href=/ style=align-items:center;justify-content:center><img style=width:30px;height:30px;border-radius:15px;vertical-align:text-bottom src=/profile.png alt=Home></a></li></ul></nav></div></header><div class=content><main class=main><div class=postWrapper><h1>UIL State CS Packet #7: Manuel</h1><ul class=tagList><li class=tagItem><a class=tagLink href=/tags/uil/>uil</a></li><li class=tagItem><a class=tagLink href=/tags/java/>java</a></li></ul><div><p>I&rsquo;ve been doing UIL practice to grind <del>definitely not because I was forced to</del> for state/regional.
Recently I came across last year&rsquo;s (2022) state packet, and I wanted to share my solutions to one of the problems.</p><p>Anyway&rsquo;s let&rsquo;s just get into it.</p><h2 id=problem-statement>Problem statement</h2><p>The problem statement is as follows:</p><ul><li>Input consists of a single integer T, followed by T test cases.</li><li>For each test case, there will be an integer N, followed by N lines of input.</li><li>The N following lines define a system of linear equations in N variables.</li><li>All coefficients and the final constant are integers.</li><li>We need to solve the system of linear equations, and output the solution.</li></ul><p>While the problem seems pretty straightforward, there&rsquo;s a few caveats:</p><p>First of all, take a look at this example input:</p><pre tabindex=0><code>3
1x+1y+1z=6
0x+2y+5z=-4
2x+5y-1z=27
</code></pre><p>We&rsquo;re given the system of linear equations as pure strings, and it&rsquo;s our job to parse every coefficient, variable name, and constant.</p><p>Thankfully, the input also tells us:</p><ul><li>Variables are guarenteed to be a single lowercase letter from <code>a</code> - <code>z</code>.</li><li>Variables stay in the same order for all equations per test case.</li><li>Variables are not allowed to be the same and are not allowed to be duplicated within the same test case.`</li></ul><p>Another caveat is the output. We have to output in the format <code>var1=NUM1,var2=NUM2...</code>, where <code>NUMi</code> is the solution for the variable <code>vari</code> rounded to 3 decimal places.</p><p>But first let&rsquo;s worry about parsing the actual equations</p><h3 id=parsing-input>Parsing input</h3><p>A neat trick we can do is to use regex to parse the input. As we know the variables are lowercase letters, we can single them out like this:</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">8
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// ignore the Object[] return for now
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#c678dd>public</span> <span style=color:#c678dd>static</span> <span style=color:#c1abea>Object</span><span style=color:#c7bf54>[]</span> <span style=color:#00b1f7>parseInputs</span><span style=color:#c7bf54>(</span><span style=color:#c1abea>String</span> <span style=color:#c1abea>line</span><span style=color:#c7bf54>,</span> <span style=color:#ef8383>int</span> <span style=color:#c1abea>n</span><span style=color:#c7bf54>){</span> <span style=color:#8a93a5;font-style:italic>// line is equation as string, n is number of variables
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#c1abea>String</span><span style=color:#c7bf54>[]</span> <span style=color:#c1abea>vars</span> <span style=color:#c7bf54>=</span> <span style=color:#c678dd>new</span> <span style=color:#c1abea>String</span><span style=color:#c7bf54>[</span><span style=color:#c1abea>n</span><span style=color:#c7bf54>];</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#c1abea>ArrayList</span><span style=color:#c7bf54>&lt;</span><span style=color:#c1abea>String</span><span style=color:#c7bf54>&gt;</span> <span style=color:#c1abea>temp</span> <span style=color:#c7bf54>=</span> <span style=color:#c678dd>new</span> <span style=color:#c1abea>ArrayList</span><span style=color:#c7bf54>&lt;</span><span style=color:#c1abea>String</span><span style=color:#c7bf54>&gt;(</span><span style=color:#c1abea>Arrays</span><span style=color:#c7bf54>.</span><span style=color:#b3d23c>asList</span><span style=color:#c7bf54>(</span><span style=color:#c1abea>line</span><span style=color:#c7bf54>.</span><span style=color:#b3d23c>split</span><span style=color:#c7bf54>(</span><span style=color:#98c379>&#34;[^a-z]&#34;</span><span style=color:#c7bf54>)));</span>
</span></span><span style=display:flex><span>    <span style=color:#c1abea>temp</span><span style=color:#c7bf54>.</span><span style=color:#b3d23c>removeIf</span><span style=color:#c7bf54>(</span><span style=color:#c1abea>s</span> <span style=color:#c7bf54>-&gt;</span> <span style=color:#c1abea>s</span><span style=color:#c7bf54>.</span><span style=color:#b3d23c>equals</span><span style=color:#c7bf54>(</span><span style=color:#98c379>&#34;&#34;</span><span style=color:#c7bf54>));</span> 
</span></span><span style=display:flex><span>    <span style=color:#c1abea>vars</span> <span style=color:#c7bf54>=</span> <span style=color:#c1abea>temp</span><span style=color:#c7bf54>.</span><span style=color:#b3d23c>toArray</span><span style=color:#c7bf54>(</span><span style=color:#c1abea>vars</span><span style=color:#c7bf54>);</span>
</span></span><span style=display:flex><span><span style=color:#c7bf54>}</span>
</span></span></code></pre></td></tr></table></div></div><p>First, we split on every character that isn&rsquo;t a lowercase letter. This gives us an array of strings, where each string is either a variable or an empty string.
We can then filter out the empty strings with the cool <code>removeIf</code> method, and we&rsquo;re left with just the variables.</p><p>For example:</p><pre tabindex=0><code>&#34;0x+2y+5z=-4&#34; -&gt; [&#34;&#34;, &#34;x&#34;, &#34;&#34;, &#34;y&#34;, &#34;&#34;, &#34;z&#34;, &#34;&#34;]

Filtering out s -&gt; s.equals(&#34;&#34;) gives
[&#34;x&#34;, &#34;y&#34;, &#34;z&#34;]
</code></pre><p>Now that we have the variables, let&rsquo;s split on every character that IS a lowercase letter, as well as <code>=</code> to seperate the coefficients and constant.</p><p>We&rsquo;ll store them in <code>double[]</code> for now because we know our final answer eventually becomes a float anyway, but we can use <code>Integer.parseInt</code> because we know
every coefficient and constant is an integer.</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">19
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#c678dd>public</span> <span style=color:#c678dd>static</span> <span style=color:#c1abea>Object</span><span style=color:#c7bf54>[]</span> <span style=color:#00b1f7>parseInputs</span><span style=color:#c7bf54>(</span><span style=color:#c1abea>String</span> <span style=color:#c1abea>line</span><span style=color:#c7bf54>,</span> <span style=color:#ef8383>int</span> <span style=color:#c1abea>n</span><span style=color:#c7bf54>){</span> 
</span></span><span style=display:flex><span>    <span style=color:#ef8383>double</span><span style=color:#c7bf54>[]</span> <span style=color:#c1abea>left</span> <span style=color:#c7bf54>=</span> <span style=color:#c678dd>new</span> <span style=color:#ef8383>double</span><span style=color:#c7bf54>[</span><span style=color:#c1abea>n</span><span style=color:#c7bf54>];</span>
</span></span><span style=display:flex><span>    <span style=color:#ef8383>double</span> <span style=color:#c1abea>ret</span> <span style=color:#c7bf54>=</span> <span style=color:#d19a66>0</span><span style=color:#c7bf54>;</span>
</span></span><span style=display:flex><span>    <span style=color:#c1abea>String</span><span style=color:#c7bf54>[]</span> <span style=color:#c1abea>vars</span> <span style=color:#c7bf54>=</span> <span style=color:#c678dd>new</span> <span style=color:#c1abea>String</span><span style=color:#c7bf54>[</span><span style=color:#c1abea>n</span><span style=color:#c7bf54>];</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#c1abea>ArrayList</span><span style=color:#c7bf54>&lt;</span><span style=color:#c1abea>String</span><span style=color:#c7bf54>&gt;</span> <span style=color:#c1abea>temp</span> <span style=color:#c7bf54>=</span> <span style=color:#c678dd>new</span> <span style=color:#c1abea>ArrayList</span><span style=color:#c7bf54>&lt;</span><span style=color:#c1abea>String</span><span style=color:#c7bf54>&gt;(</span><span style=color:#c1abea>Arrays</span><span style=color:#c7bf54>.</span><span style=color:#b3d23c>asList</span><span style=color:#c7bf54>(</span><span style=color:#c1abea>line</span><span style=color:#c7bf54>.</span><span style=color:#b3d23c>split</span><span style=color:#c7bf54>(</span><span style=color:#98c379>&#34;[^a-z]&#34;</span><span style=color:#c7bf54>)));</span>
</span></span><span style=display:flex><span>    <span style=color:#c1abea>temp</span><span style=color:#c7bf54>.</span><span style=color:#b3d23c>removeIf</span><span style=color:#c7bf54>(</span><span style=color:#c1abea>s</span> <span style=color:#c7bf54>-&gt;</span> <span style=color:#c1abea>s</span><span style=color:#c7bf54>.</span><span style=color:#b3d23c>equals</span><span style=color:#c7bf54>(</span><span style=color:#98c379>&#34;&#34;</span><span style=color:#c7bf54>));</span> 
</span></span><span style=display:flex><span>    <span style=color:#c1abea>vars</span> <span style=color:#c7bf54>=</span> <span style=color:#c1abea>temp</span><span style=color:#c7bf54>.</span><span style=color:#b3d23c>toArray</span><span style=color:#c7bf54>(</span><span style=color:#c1abea>vars</span><span style=color:#c7bf54>);</span>
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    <span style=color:#c1abea>temp</span> <span style=color:#c7bf54>=</span> <span style=color:#c678dd>new</span> <span style=color:#c1abea>ArrayList</span><span style=color:#c7bf54>&lt;</span><span style=color:#c1abea>String</span><span style=color:#c7bf54>&gt;(</span><span style=color:#c1abea>Arrays</span><span style=color:#c7bf54>.</span><span style=color:#b3d23c>asList</span><span style=color:#c7bf54>(</span><span style=color:#c1abea>line</span><span style=color:#c7bf54>.</span><span style=color:#b3d23c>split</span><span style=color:#c7bf54>(</span><span style=color:#98c379>&#34;[a-z=]&#34;</span><span style=color:#c7bf54>)));</span>
</span></span><span style=display:flex><span>    <span style=color:#c1abea>temp</span><span style=color:#c7bf54>.</span><span style=color:#b3d23c>removeIf</span><span style=color:#c7bf54>(</span><span style=color:#c1abea>s</span> <span style=color:#c7bf54>-&gt;</span> <span style=color:#c1abea>s</span><span style=color:#c7bf54>.</span><span style=color:#b3d23c>equals</span><span style=color:#c7bf54>(</span><span style=color:#98c379>&#34;&#34;</span><span style=color:#c7bf54>));</span>
</span></span><span style=display:flex><span>    <span style=color:#c1abea>String</span><span style=color:#c7bf54>[]</span> <span style=color:#c1abea>eq</span> <span style=color:#c7bf54>=</span> <span style=color:#c1abea>temp</span><span style=color:#c7bf54>.</span><span style=color:#b3d23c>toArray</span><span style=color:#c7bf54>(</span><span style=color:#c678dd>new</span> <span style=color:#c1abea>String</span><span style=color:#c7bf54>[</span><span style=color:#d19a66>0</span><span style=color:#c7bf54>]);</span> 
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#c678dd>for</span><span style=color:#c7bf54>(</span><span style=color:#ef8383>int</span> <span style=color:#c1abea>i</span><span style=color:#c7bf54>=</span><span style=color:#d19a66>0</span><span style=color:#c7bf54>;</span><span style=color:#c1abea>i</span><span style=color:#c7bf54>&lt;</span><span style=color:#c1abea>n</span><span style=color:#c7bf54>;</span><span style=color:#c1abea>i</span><span style=color:#c7bf54>++){</span>
</span></span><span style=display:flex><span>        <span style=color:#c1abea>left</span><span style=color:#c7bf54>[</span><span style=color:#c1abea>i</span><span style=color:#c7bf54>]</span> <span style=color:#c7bf54>=</span> <span style=color:#c1abea>Integer</span><span style=color:#c7bf54>.</span><span style=color:#b3d23c>parseInt</span><span style=color:#c7bf54>(</span><span style=color:#c1abea>eq</span><span style=color:#c7bf54>[</span><span style=color:#c1abea>i</span><span style=color:#c7bf54>]);</span> 
</span></span><span style=display:flex><span>    <span style=color:#c7bf54>}</span>
</span></span><span style=display:flex><span>    <span style=color:#c1abea>ret</span> <span style=color:#c7bf54>=</span> <span style=color:#c1abea>Integer</span><span style=color:#c7bf54>.</span><span style=color:#b3d23c>parseInt</span><span style=color:#c7bf54>(</span><span style=color:#c1abea>eq</span><span style=color:#c7bf54>[</span><span style=color:#c1abea>n</span><span style=color:#c7bf54>]);</span>
</span></span><span style=display:flex><span>    <span style=color:#c678dd>return</span> <span style=color:#c678dd>new</span> <span style=color:#c1abea>Object</span><span style=color:#c7bf54>[]{</span><span style=color:#c1abea>left</span><span style=color:#c7bf54>,</span> <span style=color:#c1abea>ret</span><span style=color:#c7bf54>,</span> <span style=color:#c1abea>vars</span><span style=color:#c7bf54>};</span> <span style=color:#8a93a5;font-style:italic>// unpack later
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#c7bf54>}</span>
</span></span></code></pre></td></tr></table></div></div><p>Here&rsquo;s an example of what this does:</p><pre tabindex=0><code>&#34;0x+2y+5z=-4&#34; -&gt; [&#34;0&#34;, &#34;+2&#34;, &#34;+5&#34;, &#34;&#34;, &#34;-4&#34;]

Filtering out s -&gt; s.equals(&#34;&#34;) gives
[&#34;0&#34;, &#34;+2&#34;, &#34;+5&#34;, &#34;-4&#34;]

Finally casting to int gives
left = [0, 2, 5]
ret = -4
</code></pre><p>Now that we have every piece of data extracted, let&rsquo;s see how we can actually solve the system of linear equations.</p><h3 id=linear-equations-and-linear-algebra>Linear equations and linear algebra</h3><p>Let&rsquo;s first take a step back and consider the set of linear equations purely mathematically.
$$
\begin{align*} x + y + z &= 6 \newline 2y + 5z &= -4 \newline 2x + 5y - z &= 27 \end{align*}
$$</p><p>We can represent this system of linear equations as a product of a matrix and a vector:
$$
\begin{bmatrix} 1 & 1 & 1 \newline 0 & 2 & 5 \newline 2 & 5 & -1 \end{bmatrix}
\begin{bmatrix} x \newline y \newline z \end{bmatrix}=
\begin{bmatrix} 6 \newline -4 \newline 27 \end{bmatrix}
$$</p><p>This is because if we expand out the matrix multiplication, we get our original system of linear equations.
$$
\begin{bmatrix}
1 & 1 & 1 \newline
0 & 2 & 5 \newline
2 & 5 & -1
\end{bmatrix}
\begin{bmatrix}
x \newline
y \newline
z
\end{bmatrix}=
\begin{bmatrix}
1x + 1y + 1z \newline
0x + 2y + 5z \newline
2x + 5y - z
\end{bmatrix}=
\begin{bmatrix}
x + y + z \newline
2y + 5z \newline
2x + 5y - z
\end{bmatrix}=
\begin{bmatrix}
6 \newline
-4 \newline
27
\end{bmatrix}
$$</p><p>However, we can also reverse this multiplication to solve for the vector of variables.
$$
\begin{bmatrix}
1 & 1 & 1 \newline
0 & 2 & 5 \newline
2 & 5 & -1
\end{bmatrix}
^{-1}
\begin{bmatrix}
6 \newline
-4 \newline
27
\end{bmatrix}=
\begin{bmatrix}
x \newline
y \newline
z
\end{bmatrix}
$$</p><p>But how do we go about implementing this in Java?</p><h3 id=implementation-java-boilerplate-ahead->Implementation (Java boilerplate ahead ⚠️)</h3><p>Since we know the size of the matrix is either 2x2 or 3x3, we can just hardcode the matrix inverse for each case.</p><p>I followed the algorithms shown <a href=https://en.wikipedia.org/wiki/Invertible_matrix#Analytic_solution>here</a>, and implemented them in Java.</p><p>First let&rsquo;s start with the base boilerplate code:</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">25
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#c678dd>class</span> <span style=color:#76a9f9>Matrix</span> <span style=color:#c7bf54>{</span>
</span></span><span style=display:flex><span>    <span style=color:#ef8383>int</span> <span style=color:#c1abea>size</span><span style=color:#c7bf54>;</span>
</span></span><span style=display:flex><span>    <span style=color:#ef8383>double</span><span style=color:#c7bf54>[][]</span> <span style=color:#c1abea>mat</span><span style=color:#c7bf54>;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#c678dd>public</span> <span style=color:#00b1f7>Matrix</span><span style=color:#c7bf54>(</span><span style=color:#ef8383>int</span> <span style=color:#c1abea>size</span><span style=color:#c7bf54>){</span>
</span></span><span style=display:flex><span>        <span style=color:#c678dd>this</span><span style=color:#c7bf54>.</span><span style=color:#b3d23c>size</span> <span style=color:#c7bf54>=</span> <span style=color:#c1abea>size</span><span style=color:#c7bf54>;</span>
</span></span><span style=display:flex><span>        <span style=color:#c1abea>mat</span> <span style=color:#c7bf54>=</span> <span style=color:#c678dd>new</span> <span style=color:#ef8383>double</span><span style=color:#c7bf54>[</span><span style=color:#c1abea>size</span><span style=color:#c7bf54>][</span><span style=color:#c1abea>size</span><span style=color:#c7bf54>];</span>
</span></span><span style=display:flex><span>    <span style=color:#c7bf54>}</span>
</span></span><span style=display:flex><span>    <span style=color:#c678dd>public</span> <span style=color:#00b1f7>Matrix</span><span style=color:#c7bf54>(</span><span style=color:#ef8383>double</span><span style=color:#c7bf54>[][]</span> <span style=color:#c1abea>mat</span><span style=color:#c7bf54>){</span>
</span></span><span style=display:flex><span>        <span style=color:#c678dd>this</span><span style=color:#c7bf54>.</span><span style=color:#b3d23c>mat</span> <span style=color:#c7bf54>=</span> <span style=color:#c1abea>mat</span><span style=color:#c7bf54>;</span>
</span></span><span style=display:flex><span>        <span style=color:#c678dd>this</span><span style=color:#c7bf54>.</span><span style=color:#b3d23c>size</span> <span style=color:#c7bf54>=</span> <span style=color:#c1abea>mat</span><span style=color:#c7bf54>.</span><span style=color:#b3d23c>length</span><span style=color:#c7bf54>;</span>
</span></span><span style=display:flex><span>    <span style=color:#c7bf54>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#c678dd>public</span> <span style=color:#c1abea>String</span> <span style=color:#00b1f7>toString</span><span style=color:#c7bf54>(){</span>
</span></span><span style=display:flex><span>        <span style=color:#c1abea>String</span> <span style=color:#c1abea>ret</span> <span style=color:#c7bf54>=</span> <span style=color:#98c379>&#34;&#34;</span><span style=color:#c7bf54>;</span>
</span></span><span style=display:flex><span>        <span style=color:#c678dd>for</span><span style=color:#c7bf54>(</span><span style=color:#ef8383>int</span> <span style=color:#c1abea>i</span><span style=color:#c7bf54>=</span><span style=color:#d19a66>0</span><span style=color:#c7bf54>;</span><span style=color:#c1abea>i</span><span style=color:#c7bf54>&lt;</span><span style=color:#c1abea>size</span><span style=color:#c7bf54>;</span><span style=color:#c1abea>i</span><span style=color:#c7bf54>++){</span>
</span></span><span style=display:flex><span>            <span style=color:#c678dd>for</span><span style=color:#c7bf54>(</span><span style=color:#ef8383>int</span> <span style=color:#c1abea>j</span><span style=color:#c7bf54>=</span><span style=color:#d19a66>0</span><span style=color:#c7bf54>;</span><span style=color:#c1abea>j</span><span style=color:#c7bf54>&lt;</span><span style=color:#c1abea>size</span><span style=color:#c7bf54>;</span><span style=color:#c1abea>j</span><span style=color:#c7bf54>++){</span>
</span></span><span style=display:flex><span>                <span style=color:#c1abea>ret</span> <span style=color:#c7bf54>+=</span> <span style=color:#c1abea>mat</span><span style=color:#c7bf54>[</span><span style=color:#c1abea>i</span><span style=color:#c7bf54>][</span><span style=color:#c1abea>j</span><span style=color:#c7bf54>]</span> <span style=color:#c7bf54>+</span> <span style=color:#98c379>&#34; &#34;</span><span style=color:#c7bf54>;</span>
</span></span><span style=display:flex><span>            <span style=color:#c7bf54>}</span>
</span></span><span style=display:flex><span>            <span style=color:#c1abea>ret</span> <span style=color:#c7bf54>+=</span> <span style=color:#98c379>&#34;\n&#34;</span><span style=color:#c7bf54>;</span>
</span></span><span style=display:flex><span>        <span style=color:#c7bf54>}</span>
</span></span><span style=display:flex><span>        <span style=color:#c678dd>return</span> <span style=color:#c1abea>ret</span><span style=color:#c7bf54>;</span>
</span></span><span style=display:flex><span>    <span style=color:#c7bf54>}</span>
</span></span><span style=display:flex><span><span style=color:#c7bf54>}</span>
</span></span></code></pre></td></tr></table></div></div><p>Let&rsquo;s also define a method for transposing a matrix (i.e. swapping rows and columns). It&rsquo;s used for inverting a 3x3 matrix.</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">9
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span>    <span style=color:#c678dd>public</span> <span style=color:#c1abea>Matrix</span> <span style=color:#00b1f7>transpose</span><span style=color:#c7bf54>(){</span>
</span></span><span style=display:flex><span>        <span style=color:#c1abea>Matrix</span> <span style=color:#c1abea>ret</span> <span style=color:#c7bf54>=</span> <span style=color:#c678dd>new</span> <span style=color:#c1abea>Matrix</span><span style=color:#c7bf54>(</span><span style=color:#c1abea>size</span><span style=color:#c7bf54>);</span>
</span></span><span style=display:flex><span>        <span style=color:#c678dd>for</span><span style=color:#c7bf54>(</span><span style=color:#ef8383>int</span> <span style=color:#c1abea>i</span><span style=color:#c7bf54>=</span><span style=color:#d19a66>0</span><span style=color:#c7bf54>;</span><span style=color:#c1abea>i</span><span style=color:#c7bf54>&lt;</span><span style=color:#c1abea>size</span><span style=color:#c7bf54>;</span><span style=color:#c1abea>i</span><span style=color:#c7bf54>++){</span>
</span></span><span style=display:flex><span>            <span style=color:#c678dd>for</span><span style=color:#c7bf54>(</span><span style=color:#ef8383>int</span> <span style=color:#c1abea>j</span><span style=color:#c7bf54>=</span><span style=color:#d19a66>0</span><span style=color:#c7bf54>;</span><span style=color:#c1abea>j</span><span style=color:#c7bf54>&lt;</span><span style=color:#c1abea>size</span><span style=color:#c7bf54>;</span><span style=color:#c1abea>j</span><span style=color:#c7bf54>++){</span>
</span></span><span style=display:flex><span>                <span style=color:#c1abea>ret</span><span style=color:#c7bf54>.</span><span style=color:#b3d23c>mat</span><span style=color:#c7bf54>[</span><span style=color:#c1abea>i</span><span style=color:#c7bf54>][</span><span style=color:#c1abea>j</span><span style=color:#c7bf54>]</span> <span style=color:#c7bf54>=</span> <span style=color:#c1abea>mat</span><span style=color:#c7bf54>[</span><span style=color:#c1abea>j</span><span style=color:#c7bf54>][</span><span style=color:#c1abea>i</span><span style=color:#c7bf54>];</span>
</span></span><span style=display:flex><span>            <span style=color:#c7bf54>}</span>
</span></span><span style=display:flex><span>        <span style=color:#c7bf54>}</span>
</span></span><span style=display:flex><span>        <span style=color:#c678dd>return</span> <span style=color:#c1abea>ret</span><span style=color:#c7bf54>;</span>
</span></span><span style=display:flex><span>    <span style=color:#c7bf54>}</span>
</span></span></code></pre></td></tr></table></div></div><p>Now let&rsquo;s define a method for calculating the determinant. Again, we hardcode both sizes seperately, and also introduce a helper function for 3x3 matrices.</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">30
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">31
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span>    <span style=color:#c678dd>public</span> <span style=color:#ef8383>double</span> <span style=color:#00b1f7>_subdet</span><span style=color:#c7bf54>(</span><span style=color:#ef8383>int</span> <span style=color:#c1abea>i</span><span style=color:#c7bf54>,</span> <span style=color:#ef8383>int</span> <span style=color:#c1abea>j</span><span style=color:#c7bf54>){</span>
</span></span><span style=display:flex><span>        <span style=color:#8a93a5;font-style:italic>// only for 3x3
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>        <span style=color:#8a93a5;font-style:italic>// find determinant of overall matrix without row i and column j
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>        <span style=color:#ef8383>double</span><span style=color:#c7bf54>[][]</span> <span style=color:#c1abea>submat</span> <span style=color:#c7bf54>=</span> <span style=color:#c678dd>new</span> <span style=color:#ef8383>double</span><span style=color:#c7bf54>[</span><span style=color:#d19a66>2</span><span style=color:#c7bf54>][</span><span style=color:#d19a66>2</span><span style=color:#c7bf54>];</span>
</span></span><span style=display:flex><span>        <span style=color:#ef8383>int</span> <span style=color:#c1abea>k</span> <span style=color:#c7bf54>=</span> <span style=color:#d19a66>0</span><span style=color:#c7bf54>;</span>
</span></span><span style=display:flex><span>        <span style=color:#c678dd>for</span><span style=color:#c7bf54>(</span><span style=color:#ef8383>int</span> <span style=color:#c1abea>a</span><span style=color:#c7bf54>=</span><span style=color:#d19a66>0</span><span style=color:#c7bf54>;</span><span style=color:#c1abea>a</span><span style=color:#c7bf54>&lt;</span><span style=color:#d19a66>3</span><span style=color:#c7bf54>;</span><span style=color:#c1abea>a</span><span style=color:#c7bf54>++){</span>
</span></span><span style=display:flex><span>            <span style=color:#c678dd>if</span> <span style=color:#c7bf54>(</span><span style=color:#c1abea>a</span> <span style=color:#c7bf54>==</span> <span style=color:#c1abea>i</span><span style=color:#c7bf54>)</span> <span style=color:#c678dd>continue</span><span style=color:#c7bf54>;</span>
</span></span><span style=display:flex><span>            <span style=color:#ef8383>int</span> <span style=color:#c1abea>l</span> <span style=color:#c7bf54>=</span> <span style=color:#d19a66>0</span><span style=color:#c7bf54>;</span>
</span></span><span style=display:flex><span>            <span style=color:#c678dd>for</span><span style=color:#c7bf54>(</span><span style=color:#ef8383>int</span> <span style=color:#c1abea>b</span><span style=color:#c7bf54>=</span><span style=color:#d19a66>0</span><span style=color:#c7bf54>;</span><span style=color:#c1abea>b</span><span style=color:#c7bf54>&lt;</span><span style=color:#d19a66>3</span><span style=color:#c7bf54>;</span><span style=color:#c1abea>b</span><span style=color:#c7bf54>++){</span>
</span></span><span style=display:flex><span>                <span style=color:#c678dd>if</span> <span style=color:#c7bf54>(</span><span style=color:#c1abea>b</span> <span style=color:#c7bf54>==</span> <span style=color:#c1abea>j</span><span style=color:#c7bf54>)</span> <span style=color:#c678dd>continue</span><span style=color:#c7bf54>;</span>
</span></span><span style=display:flex><span>                <span style=color:#c1abea>submat</span><span style=color:#c7bf54>[</span><span style=color:#c1abea>k</span><span style=color:#c7bf54>][</span><span style=color:#c1abea>l</span><span style=color:#c7bf54>]</span> <span style=color:#c7bf54>=</span> <span style=color:#c1abea>mat</span><span style=color:#c7bf54>[</span><span style=color:#c1abea>a</span><span style=color:#c7bf54>][</span><span style=color:#c1abea>b</span><span style=color:#c7bf54>];</span>
</span></span><span style=display:flex><span>                <span style=color:#c1abea>l</span><span style=color:#c7bf54>++;</span>
</span></span><span style=display:flex><span>            <span style=color:#c7bf54>}</span>
</span></span><span style=display:flex><span>            <span style=color:#c1abea>k</span><span style=color:#c7bf54>++;</span>
</span></span><span style=display:flex><span>        <span style=color:#c7bf54>}</span>
</span></span><span style=display:flex><span>        <span style=color:#c678dd>return</span> <span style=color:#c678dd>new</span> <span style=color:#c1abea>Matrix</span><span style=color:#c7bf54>(</span><span style=color:#c1abea>submat</span><span style=color:#c7bf54>).</span><span style=color:#b3d23c>det</span><span style=color:#c7bf54>();</span>
</span></span><span style=display:flex><span>    <span style=color:#c7bf54>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#c678dd>public</span> <span style=color:#ef8383>double</span> <span style=color:#00b1f7>det</span><span style=color:#c7bf54>(){</span>
</span></span><span style=display:flex><span>        <span style=color:#c678dd>if</span> <span style=color:#c7bf54>(</span><span style=color:#c1abea>size</span> <span style=color:#c7bf54>==</span> <span style=color:#d19a66>2</span><span style=color:#c7bf54>){</span>
</span></span><span style=display:flex><span>            <span style=color:#c678dd>return</span> <span style=color:#c1abea>mat</span><span style=color:#c7bf54>[</span><span style=color:#d19a66>0</span><span style=color:#c7bf54>][</span><span style=color:#d19a66>0</span><span style=color:#c7bf54>]*</span><span style=color:#c1abea>mat</span><span style=color:#c7bf54>[</span><span style=color:#d19a66>1</span><span style=color:#c7bf54>][</span><span style=color:#d19a66>1</span><span style=color:#c7bf54>]</span> <span style=color:#c7bf54>-</span> <span style=color:#c1abea>mat</span><span style=color:#c7bf54>[</span><span style=color:#d19a66>0</span><span style=color:#c7bf54>][</span><span style=color:#d19a66>1</span><span style=color:#c7bf54>]*</span><span style=color:#c1abea>mat</span><span style=color:#c7bf54>[</span><span style=color:#d19a66>1</span><span style=color:#c7bf54>][</span><span style=color:#d19a66>0</span><span style=color:#c7bf54>];</span>
</span></span><span style=display:flex><span>        <span style=color:#c7bf54>}</span>
</span></span><span style=display:flex><span>        <span style=color:#c678dd>else</span> <span style=color:#c678dd>if</span> <span style=color:#c7bf54>(</span><span style=color:#c1abea>size</span> <span style=color:#c7bf54>==</span> <span style=color:#d19a66>3</span><span style=color:#c7bf54>){</span>
</span></span><span style=display:flex><span>            <span style=color:#ef8383>double</span> <span style=color:#c1abea>ret</span> <span style=color:#c7bf54>=</span> <span style=color:#d19a66>0</span><span style=color:#c7bf54>;</span>
</span></span><span style=display:flex><span>            <span style=color:#c678dd>for</span><span style=color:#c7bf54>(</span><span style=color:#ef8383>int</span> <span style=color:#c1abea>i</span><span style=color:#c7bf54>=</span><span style=color:#d19a66>0</span><span style=color:#c7bf54>;</span><span style=color:#c1abea>i</span><span style=color:#c7bf54>&lt;</span><span style=color:#d19a66>3</span><span style=color:#c7bf54>;</span><span style=color:#c1abea>i</span><span style=color:#c7bf54>++){</span>
</span></span><span style=display:flex><span>                <span style=color:#c1abea>ret</span> <span style=color:#c7bf54>+=</span> <span style=color:#c1abea>mat</span><span style=color:#c7bf54>[</span><span style=color:#d19a66>0</span><span style=color:#c7bf54>][</span><span style=color:#c1abea>i</span><span style=color:#c7bf54>]</span> <span style=color:#c7bf54>*</span> <span style=color:#c1abea>_subdet</span><span style=color:#c7bf54>(</span><span style=color:#d19a66>0</span><span style=color:#c7bf54>,</span> <span style=color:#c1abea>i</span><span style=color:#c7bf54>)</span> <span style=color:#c7bf54>*</span> <span style=color:#c7bf54>(</span><span style=color:#c1abea>i</span><span style=color:#c7bf54>%</span><span style=color:#d19a66>2</span><span style=color:#c7bf54>==</span><span style=color:#d19a66>0</span> <span style=color:#c7bf54>?</span> <span style=color:#d19a66>1</span><span style=color:#c7bf54>:-</span><span style=color:#d19a66>1</span><span style=color:#c7bf54>);</span> <span style=color:#8a93a5;font-style:italic>// aA - bB + cC
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>            <span style=color:#c7bf54>}</span>
</span></span><span style=display:flex><span>            <span style=color:#c678dd>return</span> <span style=color:#c1abea>ret</span><span style=color:#c7bf54>;</span>
</span></span><span style=display:flex><span>        <span style=color:#c7bf54>}</span>
</span></span><span style=display:flex><span>        <span style=color:#c678dd>return</span> <span style=color:#d19a66>0</span><span style=color:#c7bf54>;</span>
</span></span><span style=display:flex><span>    <span style=color:#c7bf54>}</span>
</span></span></code></pre></td></tr></table></div></div><p>A 2x2 inverse is easy to calculate:</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">10
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span>        <span style=color:#c678dd>if</span> <span style=color:#c7bf54>(</span><span style=color:#c1abea>size</span> <span style=color:#c7bf54>==</span> <span style=color:#d19a66>2</span><span style=color:#c7bf54>){</span>
</span></span><span style=display:flex><span>            <span style=color:#ef8383>double</span> <span style=color:#c1abea>det</span> <span style=color:#c7bf54>=</span> <span style=color:#c1abea>det</span><span style=color:#c7bf54>();</span>
</span></span><span style=display:flex><span>            <span style=color:#ef8383>double</span><span style=color:#c7bf54>[][]</span> <span style=color:#c1abea>inv</span> <span style=color:#c7bf54>=</span> <span style=color:#c678dd>new</span> <span style=color:#ef8383>double</span><span style=color:#c7bf54>[][]</span> <span style=color:#c7bf54>{{</span><span style=color:#c1abea>mat</span><span style=color:#c7bf54>[</span><span style=color:#d19a66>1</span><span style=color:#c7bf54>][</span><span style=color:#d19a66>1</span><span style=color:#c7bf54>],</span> <span style=color:#c7bf54>-</span><span style=color:#c1abea>mat</span><span style=color:#c7bf54>[</span><span style=color:#d19a66>0</span><span style=color:#c7bf54>][</span><span style=color:#d19a66>1</span><span style=color:#c7bf54>]},</span> <span style=color:#c7bf54>{-</span><span style=color:#c1abea>mat</span><span style=color:#c7bf54>[</span><span style=color:#d19a66>1</span><span style=color:#c7bf54>][</span><span style=color:#d19a66>0</span><span style=color:#c7bf54>],</span> <span style=color:#c1abea>mat</span><span style=color:#c7bf54>[</span><span style=color:#d19a66>0</span><span style=color:#c7bf54>][</span><span style=color:#d19a66>0</span><span style=color:#c7bf54>]}};</span>
</span></span><span style=display:flex><span>            <span style=color:#c678dd>for</span><span style=color:#c7bf54>(</span><span style=color:#ef8383>int</span> <span style=color:#c1abea>i</span><span style=color:#c7bf54>=</span><span style=color:#d19a66>0</span><span style=color:#c7bf54>;</span><span style=color:#c1abea>i</span><span style=color:#c7bf54>&lt;</span><span style=color:#d19a66>2</span><span style=color:#c7bf54>;</span><span style=color:#c1abea>i</span><span style=color:#c7bf54>++){</span>
</span></span><span style=display:flex><span>                <span style=color:#c678dd>for</span><span style=color:#c7bf54>(</span><span style=color:#ef8383>int</span> <span style=color:#c1abea>j</span><span style=color:#c7bf54>=</span><span style=color:#d19a66>0</span><span style=color:#c7bf54>;</span><span style=color:#c1abea>j</span><span style=color:#c7bf54>&lt;</span><span style=color:#d19a66>2</span><span style=color:#c7bf54>;</span><span style=color:#c1abea>j</span><span style=color:#c7bf54>++){</span>
</span></span><span style=display:flex><span>                    <span style=color:#c1abea>inv</span><span style=color:#c7bf54>[</span><span style=color:#c1abea>i</span><span style=color:#c7bf54>][</span><span style=color:#c1abea>j</span><span style=color:#c7bf54>]</span> <span style=color:#c7bf54>/=</span> <span style=color:#c1abea>det</span><span style=color:#c7bf54>;</span>
</span></span><span style=display:flex><span>                <span style=color:#c7bf54>}</span>
</span></span><span style=display:flex><span>            <span style=color:#c7bf54>}</span>
</span></span><span style=display:flex><span>            <span style=color:#c678dd>return</span> <span style=color:#c678dd>new</span> <span style=color:#c1abea>Matrix</span><span style=color:#c7bf54>(</span><span style=color:#c1abea>inv</span><span style=color:#c7bf54>);</span>
</span></span><span style=display:flex><span>        <span style=color:#c7bf54>}</span>
</span></span></code></pre></td></tr></table></div></div><p>which is the implemation of this formula:
$$
\textbf{A}^{-1} = \begin{bmatrix} a & b \newline c & d \end{bmatrix}^{-1} =
\frac{1}{\text{det}(\textbf{A})} \begin{bmatrix} d & -b \newline -c & a \end{bmatrix} =
\frac{1}{ad-bc} \begin{bmatrix} d & -b \newline -c & a \end{bmatrix}
$$</p><p>But 3x3 requires a bit more work&mldr;</p><h4 id=3x3-matrix-inverse>3x3 matrix inverse</h4><p>Here&rsquo;s the formula for a 3x3 matrix inverse:
$$
\textbf{A}^{-1} = \begin{bmatrix} a & b & c \newline d & e & f \newline g & h & i \end{bmatrix}^{-1} =
\frac{1}{\text{det}(\textbf{A})} \begin{bmatrix} A & B & C \newline D & E & F \newline G & H & I \end{bmatrix} ^ T =
\frac{1}{\text{det}(\textbf{A})} \begin{bmatrix} A & D & G \newline B & E & H \newline C & F & I \end{bmatrix}
$$
where
$$
\begin{align*}
&amp;A =& \text{det} \begin{bmatrix} e & f \newline h & i \end{bmatrix}, \quad &amp;D =& -\text{det} \begin{bmatrix} b & c \newline h & i \end{bmatrix},\quad &amp;G =& \text{det} \begin{bmatrix} b & c \newline e & f \end{bmatrix} \newline
&amp;B =& -\text{det} \begin{bmatrix} d & f \newline g & i \end{bmatrix}, \quad &amp;E =& \text{det} \begin{bmatrix} a & c \newline g & i \end{bmatrix},\quad &amp;H =& -\text{det} \begin{bmatrix} a & c \newline d & f \end{bmatrix} \newline
&amp;C =& \text{det} \begin{bmatrix} d & e \newline g & h \end{bmatrix}, \quad &amp;F =& -\text{det} \begin{bmatrix} a & b \newline g & h \end{bmatrix},\quad &amp;I =& \text{det} \begin{bmatrix} a & b \newline d & e \end{bmatrix}
\end{align*}
$$
Thankfully, the <code>_subdet</code> function from earlier can also help us calculate each of these smaller determinants.
This gives us final code which looks like:</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">18
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span>        <span style=color:#c678dd>else</span> <span style=color:#c678dd>if</span> <span style=color:#c7bf54>(</span><span style=color:#c1abea>size</span> <span style=color:#c7bf54>==</span> <span style=color:#d19a66>3</span><span style=color:#c7bf54>){</span>
</span></span><span style=display:flex><span>            <span style=color:#ef8383>double</span> <span style=color:#c1abea>det</span> <span style=color:#c7bf54>=</span> <span style=color:#c1abea>det</span><span style=color:#c7bf54>();</span>
</span></span><span style=display:flex><span>            <span style=color:#ef8383>double</span><span style=color:#c7bf54>[][]</span> <span style=color:#c1abea>inv</span> <span style=color:#c7bf54>=</span> <span style=color:#c678dd>new</span> <span style=color:#ef8383>double</span><span style=color:#c7bf54>[</span><span style=color:#d19a66>3</span><span style=color:#c7bf54>][</span><span style=color:#d19a66>3</span><span style=color:#c7bf54>];</span>
</span></span><span style=display:flex><span>            <span style=color:#c678dd>for</span><span style=color:#c7bf54>(</span><span style=color:#ef8383>int</span> <span style=color:#c1abea>i</span><span style=color:#c7bf54>=</span><span style=color:#d19a66>0</span><span style=color:#c7bf54>;</span><span style=color:#c1abea>i</span><span style=color:#c7bf54>&lt;</span><span style=color:#d19a66>3</span><span style=color:#c7bf54>;</span><span style=color:#c1abea>i</span><span style=color:#c7bf54>++){</span>
</span></span><span style=display:flex><span>                <span style=color:#c678dd>for</span><span style=color:#c7bf54>(</span><span style=color:#ef8383>int</span> <span style=color:#c1abea>j</span><span style=color:#c7bf54>=</span><span style=color:#d19a66>0</span><span style=color:#c7bf54>;</span><span style=color:#c1abea>j</span><span style=color:#c7bf54>&lt;</span><span style=color:#d19a66>3</span><span style=color:#c7bf54>;</span><span style=color:#c1abea>j</span><span style=color:#c7bf54>++){</span>
</span></span><span style=display:flex><span>                    <span style=color:#c1abea>inv</span><span style=color:#c7bf54>[</span><span style=color:#c1abea>i</span><span style=color:#c7bf54>][</span><span style=color:#c1abea>j</span><span style=color:#c7bf54>]</span> <span style=color:#c7bf54>=</span> <span style=color:#c1abea>_subdet</span><span style=color:#c7bf54>(</span><span style=color:#c1abea>i</span><span style=color:#c7bf54>,</span> <span style=color:#c1abea>j</span><span style=color:#c7bf54>);</span>
</span></span><span style=display:flex><span>                    <span style=color:#c678dd>if</span> <span style=color:#c7bf54>((</span><span style=color:#c1abea>i</span><span style=color:#c7bf54>+</span><span style=color:#c1abea>j</span><span style=color:#c7bf54>)%</span><span style=color:#d19a66>2</span> <span style=color:#c7bf54>==</span> <span style=color:#d19a66>1</span><span style=color:#c7bf54>)</span> <span style=color:#c1abea>inv</span><span style=color:#c7bf54>[</span><span style=color:#c1abea>i</span><span style=color:#c7bf54>][</span><span style=color:#c1abea>j</span><span style=color:#c7bf54>]</span> <span style=color:#c7bf54>*=</span> <span style=color:#c7bf54>-</span><span style=color:#d19a66>1</span><span style=color:#c7bf54>;</span>
</span></span><span style=display:flex><span>                <span style=color:#c7bf54>}</span>
</span></span><span style=display:flex><span>            <span style=color:#c7bf54>}</span>
</span></span><span style=display:flex><span>            <span style=color:#c1abea>Matrix</span> <span style=color:#c1abea>ret</span> <span style=color:#c7bf54>=</span> <span style=color:#c678dd>new</span> <span style=color:#c1abea>Matrix</span><span style=color:#c7bf54>(</span><span style=color:#c1abea>inv</span><span style=color:#c7bf54>);</span>
</span></span><span style=display:flex><span>            <span style=color:#c1abea>ret</span> <span style=color:#c7bf54>=</span> <span style=color:#c1abea>ret</span><span style=color:#c7bf54>.</span><span style=color:#b3d23c>transpose</span><span style=color:#c7bf54>();</span>
</span></span><span style=display:flex><span>            <span style=color:#c678dd>for</span><span style=color:#c7bf54>(</span><span style=color:#ef8383>int</span> <span style=color:#c1abea>i</span><span style=color:#c7bf54>=</span><span style=color:#d19a66>0</span><span style=color:#c7bf54>;</span><span style=color:#c1abea>i</span><span style=color:#c7bf54>&lt;</span><span style=color:#d19a66>3</span><span style=color:#c7bf54>;</span><span style=color:#c1abea>i</span><span style=color:#c7bf54>++){</span>
</span></span><span style=display:flex><span>                <span style=color:#c678dd>for</span><span style=color:#c7bf54>(</span><span style=color:#ef8383>int</span> <span style=color:#c1abea>j</span><span style=color:#c7bf54>=</span><span style=color:#d19a66>0</span><span style=color:#c7bf54>;</span><span style=color:#c1abea>j</span><span style=color:#c7bf54>&lt;</span><span style=color:#d19a66>3</span><span style=color:#c7bf54>;</span><span style=color:#c1abea>j</span><span style=color:#c7bf54>++){</span>
</span></span><span style=display:flex><span>                    <span style=color:#c1abea>ret</span><span style=color:#c7bf54>.</span><span style=color:#b3d23c>mat</span><span style=color:#c7bf54>[</span><span style=color:#c1abea>i</span><span style=color:#c7bf54>][</span><span style=color:#c1abea>j</span><span style=color:#c7bf54>]</span> <span style=color:#c7bf54>/=</span> <span style=color:#c1abea>det</span><span style=color:#c7bf54>;</span>
</span></span><span style=display:flex><span>                <span style=color:#c7bf54>}</span>
</span></span><span style=display:flex><span>            <span style=color:#c7bf54>}</span>
</span></span><span style=display:flex><span>            <span style=color:#c678dd>return</span> <span style=color:#c1abea>ret</span><span style=color:#c7bf54>;</span>
</span></span><span style=display:flex><span>        <span style=color:#c7bf54>}</span>
</span></span></code></pre></td></tr></table></div></div><p>Actually not too bad!</p><p>All together, we also need a final method to calculate the product of a matrix and a vector. This is so that we can multiply our inverted
matrix by the vector of constants to finally get the solution for each variable.</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">10
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span>    <span style=color:#c678dd>public</span> <span style=color:#ef8383>double</span><span style=color:#c7bf54>[]</span> <span style=color:#00b1f7>multiply_vector</span><span style=color:#c7bf54>(</span><span style=color:#ef8383>double</span><span style=color:#c7bf54>[]</span> <span style=color:#c1abea>vec</span><span style=color:#c7bf54>){</span>
</span></span><span style=display:flex><span>        <span style=color:#c678dd>assert</span> <span style=color:#c1abea>vec</span><span style=color:#c7bf54>.</span><span style=color:#b3d23c>length</span> <span style=color:#c7bf54>==</span> <span style=color:#c1abea>size</span><span style=color:#c7bf54>;</span>
</span></span><span style=display:flex><span>        <span style=color:#ef8383>double</span><span style=color:#c7bf54>[]</span> <span style=color:#c1abea>ret</span> <span style=color:#c7bf54>=</span> <span style=color:#c678dd>new</span> <span style=color:#ef8383>double</span><span style=color:#c7bf54>[</span><span style=color:#c1abea>size</span><span style=color:#c7bf54>];</span>
</span></span><span style=display:flex><span>        <span style=color:#c678dd>for</span><span style=color:#c7bf54>(</span><span style=color:#ef8383>int</span> <span style=color:#c1abea>i</span><span style=color:#c7bf54>=</span><span style=color:#d19a66>0</span><span style=color:#c7bf54>;</span><span style=color:#c1abea>i</span><span style=color:#c7bf54>&lt;</span><span style=color:#c1abea>size</span><span style=color:#c7bf54>;</span><span style=color:#c1abea>i</span><span style=color:#c7bf54>++){</span>
</span></span><span style=display:flex><span>            <span style=color:#c678dd>for</span><span style=color:#c7bf54>(</span><span style=color:#ef8383>int</span> <span style=color:#c1abea>j</span><span style=color:#c7bf54>=</span><span style=color:#d19a66>0</span><span style=color:#c7bf54>;</span><span style=color:#c1abea>j</span><span style=color:#c7bf54>&lt;</span><span style=color:#c1abea>size</span><span style=color:#c7bf54>;</span><span style=color:#c1abea>j</span><span style=color:#c7bf54>++){</span>
</span></span><span style=display:flex><span>                <span style=color:#c1abea>ret</span><span style=color:#c7bf54>[</span><span style=color:#c1abea>i</span><span style=color:#c7bf54>]</span> <span style=color:#c7bf54>+=</span> <span style=color:#c1abea>mat</span><span style=color:#c7bf54>[</span><span style=color:#c1abea>i</span><span style=color:#c7bf54>][</span><span style=color:#c1abea>j</span><span style=color:#c7bf54>]</span> <span style=color:#c7bf54>*</span> <span style=color:#c1abea>vec</span><span style=color:#c7bf54>[</span><span style=color:#c1abea>j</span><span style=color:#c7bf54>];</span>
</span></span><span style=display:flex><span>            <span style=color:#c7bf54>}</span>
</span></span><span style=display:flex><span>        <span style=color:#c7bf54>}</span>
</span></span><span style=display:flex><span>        <span style=color:#c678dd>return</span> <span style=color:#c1abea>ret</span><span style=color:#c7bf54>;</span>
</span></span><span style=display:flex><span>    <span style=color:#c7bf54>}</span>
</span></span></code></pre></td></tr></table></div></div><h3 id=putting-it-all-together>Putting it all together</h3><p>So overall, our final process looks like this:</p><pre tabindex=0><code>for each test case:
    read in n
    coefs = double[n][n]
    constants = double[n]
    vars = string[n]

    for each equation:
        read in equation
        coef, cnst, vars = parseInputs(equation, n)
        coefs[i] = coef
        constants[i] = cnst
        vars = vars         # we override each time, but it doesn&#39;t matter because vars stay in same order and place each equation

    mat = Matrix(coefs)
    inv = mat.inverse()
    solution = inv.multiply_vector(constants)

    print out formatted solution
</code></pre><p>This should work regardless of 2 or 3 variables, because we have different code for each case.</p><p>My final code for this problem looks like this:</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">  1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">  2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">  3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">  4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">  5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">  6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">  7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">  8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">  9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 30
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 31
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 32
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 33
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 34
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 35
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 36
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 37
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 38
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 39
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 40
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 41
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 42
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 43
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 44
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 45
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 46
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 47
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 48
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 49
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 50
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 51
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 52
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 53
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 54
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 55
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 56
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 57
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 58
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 59
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 60
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 61
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 62
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 63
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 64
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 65
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 66
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 67
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 68
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 69
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 70
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 71
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 72
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 73
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 74
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 75
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 76
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 77
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 78
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 79
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 80
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 81
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 82
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 83
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 84
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 85
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 86
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 87
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 88
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 89
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 90
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 91
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 92
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 93
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 94
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 95
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 96
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 97
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 98
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 99
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">100
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">101
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">102
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">103
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">104
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">105
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">106
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">107
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">108
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">109
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">110
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">111
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">112
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">113
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">114
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">115
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">116
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">117
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">118
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">119
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">120
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">121
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">122
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">123
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">124
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">125
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">126
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">127
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">128
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">129
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">130
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">131
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">132
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">133
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">134
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">135
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">136
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">137
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">138
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">139
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">140
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">141
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">142
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">143
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">144
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">145
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">146
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">147
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">148
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">149
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">150
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">151
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">152
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">153
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">154
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">155
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">156
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">157
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">158
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">159
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">160
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">161
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">162
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">163
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">164
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">165
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">166
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">167
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">168
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">169
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">170
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">171
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">172
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">173
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">174
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">175
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">176
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#c678dd>import</span> <span style=color:#76a9f9>java.util.*</span><span style=color:#c7bf54>;</span>
</span></span><span style=display:flex><span><span style=color:#c678dd>import</span> <span style=color:#76a9f9>java.io.*</span><span style=color:#c7bf54>;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#c678dd>public</span> <span style=color:#c678dd>class</span> <span style=color:#76a9f9>Manuel</span> <span style=color:#c7bf54>{</span>
</span></span><span style=display:flex><span>    <span style=color:#c678dd>public</span> <span style=color:#c678dd>static</span> <span style=color:#c1abea>Object</span><span style=color:#c7bf54>[]</span> <span style=color:#00b1f7>parseInputs</span><span style=color:#c7bf54>(</span><span style=color:#c1abea>String</span> <span style=color:#c1abea>line</span><span style=color:#c7bf54>,</span> <span style=color:#ef8383>int</span> <span style=color:#c1abea>n</span><span style=color:#c7bf54>)</span> <span style=color:#c7bf54>{</span>
</span></span><span style=display:flex><span>        <span style=color:#ef8383>double</span><span style=color:#c7bf54>[]</span> <span style=color:#c1abea>left</span> <span style=color:#c7bf54>=</span> <span style=color:#c678dd>new</span> <span style=color:#ef8383>double</span><span style=color:#c7bf54>[</span><span style=color:#c1abea>n</span><span style=color:#c7bf54>];</span>
</span></span><span style=display:flex><span>        <span style=color:#ef8383>int</span> <span style=color:#c1abea>ret</span> <span style=color:#c7bf54>=</span> <span style=color:#d19a66>0</span><span style=color:#c7bf54>;</span>
</span></span><span style=display:flex><span>        <span style=color:#c1abea>String</span><span style=color:#c7bf54>[]</span> <span style=color:#c1abea>vars</span> <span style=color:#c7bf54>=</span> <span style=color:#c678dd>new</span> <span style=color:#c1abea>String</span><span style=color:#c7bf54>[</span><span style=color:#c1abea>n</span><span style=color:#c7bf54>];</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#c1abea>ArrayList</span><span style=color:#c7bf54>&lt;</span><span style=color:#c1abea>String</span><span style=color:#c7bf54>&gt;</span> <span style=color:#c1abea>temp</span> <span style=color:#c7bf54>=</span> <span style=color:#c678dd>new</span> <span style=color:#c1abea>ArrayList</span><span style=color:#c7bf54>&lt;</span><span style=color:#c1abea>String</span><span style=color:#c7bf54>&gt;(</span><span style=color:#c1abea>Arrays</span><span style=color:#c7bf54>.</span><span style=color:#b3d23c>asList</span><span style=color:#c7bf54>(</span><span style=color:#c1abea>line</span><span style=color:#c7bf54>.</span><span style=color:#b3d23c>split</span><span style=color:#c7bf54>(</span><span style=color:#98c379>&#34;[^a-z]&#34;</span><span style=color:#c7bf54>)));</span>
</span></span><span style=display:flex><span>        <span style=color:#c1abea>temp</span><span style=color:#c7bf54>.</span><span style=color:#b3d23c>removeIf</span><span style=color:#c7bf54>(</span><span style=color:#c1abea>s</span> <span style=color:#c7bf54>-&gt;</span> <span style=color:#c1abea>s</span><span style=color:#c7bf54>.</span><span style=color:#b3d23c>equals</span><span style=color:#c7bf54>(</span><span style=color:#98c379>&#34;&#34;</span><span style=color:#c7bf54>));</span>
</span></span><span style=display:flex><span>        <span style=color:#c1abea>vars</span> <span style=color:#c7bf54>=</span> <span style=color:#c1abea>temp</span><span style=color:#c7bf54>.</span><span style=color:#b3d23c>toArray</span><span style=color:#c7bf54>(</span><span style=color:#c1abea>vars</span><span style=color:#c7bf54>);</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#c1abea>temp</span> <span style=color:#c7bf54>=</span> <span style=color:#c678dd>new</span> <span style=color:#c1abea>ArrayList</span><span style=color:#c7bf54>&lt;</span><span style=color:#c1abea>String</span><span style=color:#c7bf54>&gt;(</span><span style=color:#c1abea>Arrays</span><span style=color:#c7bf54>.</span><span style=color:#b3d23c>asList</span><span style=color:#c7bf54>(</span><span style=color:#c1abea>line</span><span style=color:#c7bf54>.</span><span style=color:#b3d23c>split</span><span style=color:#c7bf54>(</span><span style=color:#98c379>&#34;[a-z=]&#34;</span><span style=color:#c7bf54>)));</span>
</span></span><span style=display:flex><span>        <span style=color:#c1abea>temp</span><span style=color:#c7bf54>.</span><span style=color:#b3d23c>removeIf</span><span style=color:#c7bf54>(</span><span style=color:#c1abea>s</span> <span style=color:#c7bf54>-&gt;</span> <span style=color:#c1abea>s</span><span style=color:#c7bf54>.</span><span style=color:#b3d23c>equals</span><span style=color:#c7bf54>(</span><span style=color:#98c379>&#34;&#34;</span><span style=color:#c7bf54>));</span>
</span></span><span style=display:flex><span>        <span style=color:#c1abea>String</span><span style=color:#c7bf54>[]</span> <span style=color:#c1abea>eq</span> <span style=color:#c7bf54>=</span> <span style=color:#c1abea>temp</span><span style=color:#c7bf54>.</span><span style=color:#b3d23c>toArray</span><span style=color:#c7bf54>(</span><span style=color:#c678dd>new</span> <span style=color:#c1abea>String</span><span style=color:#c7bf54>[</span><span style=color:#d19a66>0</span><span style=color:#c7bf54>]);</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#c678dd>for</span> <span style=color:#c7bf54>(</span><span style=color:#ef8383>int</span> <span style=color:#c1abea>i</span> <span style=color:#c7bf54>=</span> <span style=color:#d19a66>0</span><span style=color:#c7bf54>;</span> <span style=color:#c1abea>i</span> <span style=color:#c7bf54>&lt;</span> <span style=color:#c1abea>n</span><span style=color:#c7bf54>;</span> <span style=color:#c1abea>i</span><span style=color:#c7bf54>++)</span> <span style=color:#c7bf54>{</span>
</span></span><span style=display:flex><span>            <span style=color:#c1abea>left</span><span style=color:#c7bf54>[</span><span style=color:#c1abea>i</span><span style=color:#c7bf54>]</span> <span style=color:#c7bf54>=</span> <span style=color:#c1abea>Integer</span><span style=color:#c7bf54>.</span><span style=color:#b3d23c>parseInt</span><span style=color:#c7bf54>(</span><span style=color:#c1abea>eq</span><span style=color:#c7bf54>[</span><span style=color:#c1abea>i</span><span style=color:#c7bf54>]);</span>
</span></span><span style=display:flex><span>        <span style=color:#c7bf54>}</span>
</span></span><span style=display:flex><span>        <span style=color:#c1abea>ret</span> <span style=color:#c7bf54>=</span> <span style=color:#c1abea>Integer</span><span style=color:#c7bf54>.</span><span style=color:#b3d23c>parseInt</span><span style=color:#c7bf54>(</span><span style=color:#c1abea>eq</span><span style=color:#c7bf54>[</span><span style=color:#c1abea>n</span><span style=color:#c7bf54>]);</span>
</span></span><span style=display:flex><span>        <span style=color:#c678dd>return</span> <span style=color:#c678dd>new</span> <span style=color:#c1abea>Object</span><span style=color:#c7bf54>[]</span> <span style=color:#c7bf54>{</span> <span style=color:#c1abea>left</span><span style=color:#c7bf54>,</span> <span style=color:#c1abea>ret</span><span style=color:#c7bf54>,</span> <span style=color:#c1abea>vars</span> <span style=color:#c7bf54>};</span>
</span></span><span style=display:flex><span>    <span style=color:#c7bf54>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#c678dd>public</span> <span style=color:#c678dd>static</span> <span style=color:#ef8383>void</span> <span style=color:#00b1f7>main</span><span style=color:#c7bf54>(</span><span style=color:#c1abea>String</span><span style=color:#c7bf54>[]</span> <span style=color:#c1abea>args</span><span style=color:#c7bf54>)</span> <span style=color:#c678dd>throws</span> <span style=color:#c1abea>IOException</span> <span style=color:#c7bf54>{</span>
</span></span><span style=display:flex><span>        <span style=color:#c1abea>Scanner</span> <span style=color:#c1abea>sc</span> <span style=color:#c7bf54>=</span> <span style=color:#c678dd>new</span> <span style=color:#c1abea>Scanner</span><span style=color:#c7bf54>(</span><span style=color:#c1abea>System</span><span style=color:#c7bf54>.</span><span style=color:#b3d23c>in</span><span style=color:#c7bf54>);</span>
</span></span><span style=display:flex><span>        <span style=color:#ef8383>int</span> <span style=color:#c1abea>N</span> <span style=color:#c7bf54>=</span> <span style=color:#c1abea>Integer</span><span style=color:#c7bf54>.</span><span style=color:#b3d23c>parseInt</span><span style=color:#c7bf54>(</span><span style=color:#c1abea>sc</span><span style=color:#c7bf54>.</span><span style=color:#b3d23c>nextLine</span><span style=color:#c7bf54>());</span>
</span></span><span style=display:flex><span>        <span style=color:#c678dd>for</span> <span style=color:#c7bf54>(</span><span style=color:#ef8383>int</span> <span style=color:#c1abea>I</span> <span style=color:#c7bf54>=</span> <span style=color:#d19a66>1</span><span style=color:#c7bf54>;</span> <span style=color:#c1abea>I</span> <span style=color:#c7bf54>&lt;=</span> <span style=color:#c1abea>N</span><span style=color:#c7bf54>;</span> <span style=color:#c1abea>I</span><span style=color:#c7bf54>++)</span> <span style=color:#c7bf54>{</span> <span style=color:#8a93a5;font-style:italic>// I for Testcase #
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>            <span style=color:#ef8383>int</span> <span style=color:#c1abea>n</span> <span style=color:#c7bf54>=</span> <span style=color:#c1abea>Integer</span><span style=color:#c7bf54>.</span><span style=color:#b3d23c>parseInt</span><span style=color:#c7bf54>(</span><span style=color:#c1abea>sc</span><span style=color:#c7bf54>.</span><span style=color:#b3d23c>nextLine</span><span style=color:#c7bf54>());</span>
</span></span><span style=display:flex><span>            <span style=color:#ef8383>double</span><span style=color:#c7bf54>[][]</span> <span style=color:#c1abea>coef</span> <span style=color:#c7bf54>=</span> <span style=color:#c678dd>new</span> <span style=color:#ef8383>double</span><span style=color:#c7bf54>[</span><span style=color:#c1abea>n</span><span style=color:#c7bf54>][</span><span style=color:#c1abea>n</span><span style=color:#c7bf54>];</span>
</span></span><span style=display:flex><span>            <span style=color:#ef8383>double</span><span style=color:#c7bf54>[]</span> <span style=color:#c1abea>res</span> <span style=color:#c7bf54>=</span> <span style=color:#c678dd>new</span> <span style=color:#ef8383>double</span><span style=color:#c7bf54>[</span><span style=color:#c1abea>n</span><span style=color:#c7bf54>];</span>
</span></span><span style=display:flex><span>            <span style=color:#c1abea>String</span><span style=color:#c7bf54>[]</span> <span style=color:#c1abea>vars</span> <span style=color:#c7bf54>=</span> <span style=color:#c678dd>new</span> <span style=color:#c1abea>String</span><span style=color:#c7bf54>[</span><span style=color:#c1abea>n</span><span style=color:#c7bf54>];</span>
</span></span><span style=display:flex><span>            <span style=color:#c678dd>for</span> <span style=color:#c7bf54>(</span><span style=color:#ef8383>int</span> <span style=color:#c1abea>i</span> <span style=color:#c7bf54>=</span> <span style=color:#d19a66>0</span><span style=color:#c7bf54>;</span> <span style=color:#c1abea>i</span> <span style=color:#c7bf54>&lt;</span> <span style=color:#c1abea>n</span><span style=color:#c7bf54>;</span> <span style=color:#c1abea>i</span><span style=color:#c7bf54>++)</span> <span style=color:#c7bf54>{</span>
</span></span><span style=display:flex><span>                <span style=color:#c1abea>Object</span><span style=color:#c7bf54>[]</span> <span style=color:#c1abea>ret</span> <span style=color:#c7bf54>=</span> <span style=color:#c1abea>parseInputs</span><span style=color:#c7bf54>(</span><span style=color:#c1abea>sc</span><span style=color:#c7bf54>.</span><span style=color:#b3d23c>nextLine</span><span style=color:#c7bf54>(),</span> <span style=color:#c1abea>n</span><span style=color:#c7bf54>);</span>
</span></span><span style=display:flex><span>                <span style=color:#c1abea>coef</span><span style=color:#c7bf54>[</span><span style=color:#c1abea>i</span><span style=color:#c7bf54>]</span> <span style=color:#c7bf54>=</span> <span style=color:#c7bf54>(</span><span style=color:#ef8383>double</span><span style=color:#c7bf54>[])</span> <span style=color:#c1abea>ret</span><span style=color:#c7bf54>[</span><span style=color:#d19a66>0</span><span style=color:#c7bf54>];</span>
</span></span><span style=display:flex><span>                <span style=color:#c1abea>res</span><span style=color:#c7bf54>[</span><span style=color:#c1abea>i</span><span style=color:#c7bf54>]</span> <span style=color:#c7bf54>=</span> <span style=color:#c7bf54>(</span><span style=color:#ef8383>int</span><span style=color:#c7bf54>)</span> <span style=color:#c1abea>ret</span><span style=color:#c7bf54>[</span><span style=color:#d19a66>1</span><span style=color:#c7bf54>];</span>
</span></span><span style=display:flex><span>                <span style=color:#c1abea>vars</span> <span style=color:#c7bf54>=</span> <span style=color:#c7bf54>(</span><span style=color:#c1abea>String</span><span style=color:#c7bf54>[])</span> <span style=color:#c1abea>ret</span><span style=color:#c7bf54>[</span><span style=color:#d19a66>2</span><span style=color:#c7bf54>];</span>
</span></span><span style=display:flex><span>            <span style=color:#c7bf54>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>            <span style=color:#8a93a5;font-style:italic>// System.out.println(Arrays.deepToString(coef));
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>            <span style=color:#8a93a5;font-style:italic>// System.out.println(Arrays.toString(res));
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>            <span style=color:#8a93a5;font-style:italic>// System.out.println(Arrays.toString(vars));
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>            <span style=color:#c1abea>Matrix</span> <span style=color:#c1abea>mat</span> <span style=color:#c7bf54>=</span> <span style=color:#c678dd>new</span> <span style=color:#c1abea>Matrix</span><span style=color:#c7bf54>(</span><span style=color:#c1abea>coef</span><span style=color:#c7bf54>);</span>
</span></span><span style=display:flex><span>            <span style=color:#c1abea>mat</span> <span style=color:#c7bf54>=</span> <span style=color:#c1abea>mat</span><span style=color:#c7bf54>.</span><span style=color:#b3d23c>inverse</span><span style=color:#c7bf54>();</span>
</span></span><span style=display:flex><span>            <span style=color:#ef8383>double</span><span style=color:#c7bf54>[]</span> <span style=color:#c1abea>ans</span> <span style=color:#c7bf54>=</span> <span style=color:#c1abea>mat</span><span style=color:#c7bf54>.</span><span style=color:#b3d23c>multiply_vector</span><span style=color:#c7bf54>(</span><span style=color:#c1abea>res</span><span style=color:#c7bf54>);</span>
</span></span><span style=display:flex><span>            <span style=color:#8a93a5;font-style:italic>// System.out.println(Arrays.toString(ans));
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>
</span></span><span style=display:flex><span>            <span style=color:#8a93a5;font-style:italic>// stupid weird -0.000 reduction
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>            <span style=color:#c678dd>for</span> <span style=color:#c7bf54>(</span><span style=color:#ef8383>int</span> <span style=color:#c1abea>i</span> <span style=color:#c7bf54>=</span> <span style=color:#d19a66>0</span><span style=color:#c7bf54>;</span> <span style=color:#c1abea>i</span> <span style=color:#c7bf54>&lt;</span> <span style=color:#c1abea>n</span><span style=color:#c7bf54>;</span> <span style=color:#c1abea>i</span><span style=color:#c7bf54>++)</span> <span style=color:#c7bf54>{</span>
</span></span><span style=display:flex><span>                <span style=color:#c678dd>if</span> <span style=color:#c7bf54>(</span><span style=color:#c1abea>Math</span><span style=color:#c7bf54>.</span><span style=color:#b3d23c>abs</span><span style=color:#c7bf54>(</span><span style=color:#c1abea>ans</span><span style=color:#c7bf54>[</span><span style=color:#c1abea>i</span><span style=color:#c7bf54>])</span> <span style=color:#c7bf54>&lt;</span> <span style=color:#d19a66>1e-4</span><span style=color:#c7bf54>)</span>
</span></span><span style=display:flex><span>                    <span style=color:#c1abea>ans</span><span style=color:#c7bf54>[</span><span style=color:#c1abea>i</span><span style=color:#c7bf54>]</span> <span style=color:#c7bf54>=</span> <span style=color:#d19a66>0</span><span style=color:#c7bf54>;</span>
</span></span><span style=display:flex><span>            <span style=color:#c7bf54>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>            <span style=color:#c678dd>for</span> <span style=color:#c7bf54>(</span><span style=color:#ef8383>int</span> <span style=color:#c1abea>i</span> <span style=color:#c7bf54>=</span> <span style=color:#d19a66>0</span><span style=color:#c7bf54>;</span> <span style=color:#c1abea>i</span> <span style=color:#c7bf54>&lt;</span> <span style=color:#c1abea>n</span><span style=color:#c7bf54>;</span> <span style=color:#c1abea>i</span><span style=color:#c7bf54>++)</span> <span style=color:#c7bf54>{</span>
</span></span><span style=display:flex><span>                <span style=color:#c1abea>System</span><span style=color:#c7bf54>.</span><span style=color:#b3d23c>out</span><span style=color:#c7bf54>.</span><span style=color:#b3d23c>printf</span><span style=color:#c7bf54>(</span><span style=color:#98c379>&#34;%s=%.3f&#34;</span><span style=color:#c7bf54>,</span> <span style=color:#c1abea>vars</span><span style=color:#c7bf54>[</span><span style=color:#c1abea>i</span><span style=color:#c7bf54>],</span> <span style=color:#c1abea>ans</span><span style=color:#c7bf54>[</span><span style=color:#c1abea>i</span><span style=color:#c7bf54>]);</span>
</span></span><span style=display:flex><span>                <span style=color:#c678dd>if</span> <span style=color:#c7bf54>(</span><span style=color:#c1abea>i</span> <span style=color:#c7bf54>!=</span> <span style=color:#c1abea>n</span> <span style=color:#c7bf54>-</span> <span style=color:#d19a66>1</span><span style=color:#c7bf54>)</span>
</span></span><span style=display:flex><span>                    <span style=color:#c1abea>System</span><span style=color:#c7bf54>.</span><span style=color:#b3d23c>out</span><span style=color:#c7bf54>.</span><span style=color:#b3d23c>print</span><span style=color:#c7bf54>(</span><span style=color:#98c379>&#34;,&#34;</span><span style=color:#c7bf54>);</span>
</span></span><span style=display:flex><span>            <span style=color:#c7bf54>}</span>
</span></span><span style=display:flex><span>            <span style=color:#c1abea>System</span><span style=color:#c7bf54>.</span><span style=color:#b3d23c>out</span><span style=color:#c7bf54>.</span><span style=color:#b3d23c>println</span><span style=color:#c7bf54>();</span>
</span></span><span style=display:flex><span>        <span style=color:#c7bf54>}</span>
</span></span><span style=display:flex><span>        <span style=color:#c1abea>sc</span><span style=color:#c7bf54>.</span><span style=color:#b3d23c>close</span><span style=color:#c7bf54>();</span>
</span></span><span style=display:flex><span>    <span style=color:#c7bf54>}</span>
</span></span><span style=display:flex><span><span style=color:#c7bf54>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#c678dd>class</span> <span style=color:#76a9f9>Matrix</span> <span style=color:#c7bf54>{</span>
</span></span><span style=display:flex><span>    <span style=color:#ef8383>int</span> <span style=color:#c1abea>size</span><span style=color:#c7bf54>;</span>
</span></span><span style=display:flex><span>    <span style=color:#ef8383>double</span><span style=color:#c7bf54>[][]</span> <span style=color:#c1abea>mat</span><span style=color:#c7bf54>;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#c678dd>public</span> <span style=color:#00b1f7>Matrix</span><span style=color:#c7bf54>(</span><span style=color:#ef8383>int</span> <span style=color:#c1abea>size</span><span style=color:#c7bf54>)</span> <span style=color:#c7bf54>{</span>
</span></span><span style=display:flex><span>        <span style=color:#c678dd>this</span><span style=color:#c7bf54>.</span><span style=color:#b3d23c>size</span> <span style=color:#c7bf54>=</span> <span style=color:#c1abea>size</span><span style=color:#c7bf54>;</span>
</span></span><span style=display:flex><span>        <span style=color:#c1abea>mat</span> <span style=color:#c7bf54>=</span> <span style=color:#c678dd>new</span> <span style=color:#ef8383>double</span><span style=color:#c7bf54>[</span><span style=color:#c1abea>size</span><span style=color:#c7bf54>][</span><span style=color:#c1abea>size</span><span style=color:#c7bf54>];</span>
</span></span><span style=display:flex><span>    <span style=color:#c7bf54>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#c678dd>public</span> <span style=color:#00b1f7>Matrix</span><span style=color:#c7bf54>(</span><span style=color:#ef8383>double</span><span style=color:#c7bf54>[][]</span> <span style=color:#c1abea>mat</span><span style=color:#c7bf54>)</span> <span style=color:#c7bf54>{</span>
</span></span><span style=display:flex><span>        <span style=color:#c678dd>this</span><span style=color:#c7bf54>.</span><span style=color:#b3d23c>mat</span> <span style=color:#c7bf54>=</span> <span style=color:#c1abea>mat</span><span style=color:#c7bf54>;</span>
</span></span><span style=display:flex><span>        <span style=color:#c678dd>this</span><span style=color:#c7bf54>.</span><span style=color:#b3d23c>size</span> <span style=color:#c7bf54>=</span> <span style=color:#c1abea>mat</span><span style=color:#c7bf54>.</span><span style=color:#b3d23c>length</span><span style=color:#c7bf54>;</span>
</span></span><span style=display:flex><span>    <span style=color:#c7bf54>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#c678dd>public</span> <span style=color:#c1abea>Matrix</span> <span style=color:#00b1f7>transpose</span><span style=color:#c7bf54>()</span> <span style=color:#c7bf54>{</span>
</span></span><span style=display:flex><span>        <span style=color:#c1abea>Matrix</span> <span style=color:#c1abea>ret</span> <span style=color:#c7bf54>=</span> <span style=color:#c678dd>new</span> <span style=color:#c1abea>Matrix</span><span style=color:#c7bf54>(</span><span style=color:#c1abea>size</span><span style=color:#c7bf54>);</span>
</span></span><span style=display:flex><span>        <span style=color:#c678dd>for</span> <span style=color:#c7bf54>(</span><span style=color:#ef8383>int</span> <span style=color:#c1abea>i</span> <span style=color:#c7bf54>=</span> <span style=color:#d19a66>0</span><span style=color:#c7bf54>;</span> <span style=color:#c1abea>i</span> <span style=color:#c7bf54>&lt;</span> <span style=color:#c1abea>size</span><span style=color:#c7bf54>;</span> <span style=color:#c1abea>i</span><span style=color:#c7bf54>++)</span> <span style=color:#c7bf54>{</span>
</span></span><span style=display:flex><span>            <span style=color:#c678dd>for</span> <span style=color:#c7bf54>(</span><span style=color:#ef8383>int</span> <span style=color:#c1abea>j</span> <span style=color:#c7bf54>=</span> <span style=color:#d19a66>0</span><span style=color:#c7bf54>;</span> <span style=color:#c1abea>j</span> <span style=color:#c7bf54>&lt;</span> <span style=color:#c1abea>size</span><span style=color:#c7bf54>;</span> <span style=color:#c1abea>j</span><span style=color:#c7bf54>++)</span> <span style=color:#c7bf54>{</span>
</span></span><span style=display:flex><span>                <span style=color:#c1abea>ret</span><span style=color:#c7bf54>.</span><span style=color:#b3d23c>mat</span><span style=color:#c7bf54>[</span><span style=color:#c1abea>i</span><span style=color:#c7bf54>][</span><span style=color:#c1abea>j</span><span style=color:#c7bf54>]</span> <span style=color:#c7bf54>=</span> <span style=color:#c1abea>mat</span><span style=color:#c7bf54>[</span><span style=color:#c1abea>j</span><span style=color:#c7bf54>][</span><span style=color:#c1abea>i</span><span style=color:#c7bf54>];</span>
</span></span><span style=display:flex><span>            <span style=color:#c7bf54>}</span>
</span></span><span style=display:flex><span>        <span style=color:#c7bf54>}</span>
</span></span><span style=display:flex><span>        <span style=color:#c678dd>return</span> <span style=color:#c1abea>ret</span><span style=color:#c7bf54>;</span>
</span></span><span style=display:flex><span>    <span style=color:#c7bf54>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#c678dd>public</span> <span style=color:#ef8383>double</span> <span style=color:#00b1f7>_subdet</span><span style=color:#c7bf54>(</span><span style=color:#ef8383>int</span> <span style=color:#c1abea>i</span><span style=color:#c7bf54>,</span> <span style=color:#ef8383>int</span> <span style=color:#c1abea>j</span><span style=color:#c7bf54>)</span> <span style=color:#c7bf54>{</span>
</span></span><span style=display:flex><span>        <span style=color:#8a93a5;font-style:italic>// only for 3x3
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>        <span style=color:#8a93a5;font-style:italic>// find determinant of overall matrix without row i and column j
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>        <span style=color:#ef8383>double</span><span style=color:#c7bf54>[][]</span> <span style=color:#c1abea>submat</span> <span style=color:#c7bf54>=</span> <span style=color:#c678dd>new</span> <span style=color:#ef8383>double</span><span style=color:#c7bf54>[</span><span style=color:#d19a66>2</span><span style=color:#c7bf54>][</span><span style=color:#d19a66>2</span><span style=color:#c7bf54>];</span>
</span></span><span style=display:flex><span>        <span style=color:#ef8383>int</span> <span style=color:#c1abea>k</span> <span style=color:#c7bf54>=</span> <span style=color:#d19a66>0</span><span style=color:#c7bf54>;</span>
</span></span><span style=display:flex><span>        <span style=color:#c678dd>for</span> <span style=color:#c7bf54>(</span><span style=color:#ef8383>int</span> <span style=color:#c1abea>a</span> <span style=color:#c7bf54>=</span> <span style=color:#d19a66>0</span><span style=color:#c7bf54>;</span> <span style=color:#c1abea>a</span> <span style=color:#c7bf54>&lt;</span> <span style=color:#d19a66>3</span><span style=color:#c7bf54>;</span> <span style=color:#c1abea>a</span><span style=color:#c7bf54>++)</span> <span style=color:#c7bf54>{</span>
</span></span><span style=display:flex><span>            <span style=color:#c678dd>if</span> <span style=color:#c7bf54>(</span><span style=color:#c1abea>a</span> <span style=color:#c7bf54>==</span> <span style=color:#c1abea>i</span><span style=color:#c7bf54>)</span>
</span></span><span style=display:flex><span>                <span style=color:#c678dd>continue</span><span style=color:#c7bf54>;</span>
</span></span><span style=display:flex><span>            <span style=color:#ef8383>int</span> <span style=color:#c1abea>l</span> <span style=color:#c7bf54>=</span> <span style=color:#d19a66>0</span><span style=color:#c7bf54>;</span>
</span></span><span style=display:flex><span>            <span style=color:#c678dd>for</span> <span style=color:#c7bf54>(</span><span style=color:#ef8383>int</span> <span style=color:#c1abea>b</span> <span style=color:#c7bf54>=</span> <span style=color:#d19a66>0</span><span style=color:#c7bf54>;</span> <span style=color:#c1abea>b</span> <span style=color:#c7bf54>&lt;</span> <span style=color:#d19a66>3</span><span style=color:#c7bf54>;</span> <span style=color:#c1abea>b</span><span style=color:#c7bf54>++)</span> <span style=color:#c7bf54>{</span>
</span></span><span style=display:flex><span>                <span style=color:#c678dd>if</span> <span style=color:#c7bf54>(</span><span style=color:#c1abea>b</span> <span style=color:#c7bf54>==</span> <span style=color:#c1abea>j</span><span style=color:#c7bf54>)</span>
</span></span><span style=display:flex><span>                    <span style=color:#c678dd>continue</span><span style=color:#c7bf54>;</span>
</span></span><span style=display:flex><span>                <span style=color:#c1abea>submat</span><span style=color:#c7bf54>[</span><span style=color:#c1abea>k</span><span style=color:#c7bf54>][</span><span style=color:#c1abea>l</span><span style=color:#c7bf54>]</span> <span style=color:#c7bf54>=</span> <span style=color:#c1abea>mat</span><span style=color:#c7bf54>[</span><span style=color:#c1abea>a</span><span style=color:#c7bf54>][</span><span style=color:#c1abea>b</span><span style=color:#c7bf54>];</span>
</span></span><span style=display:flex><span>                <span style=color:#c1abea>l</span><span style=color:#c7bf54>++;</span>
</span></span><span style=display:flex><span>            <span style=color:#c7bf54>}</span>
</span></span><span style=display:flex><span>            <span style=color:#c1abea>k</span><span style=color:#c7bf54>++;</span>
</span></span><span style=display:flex><span>        <span style=color:#c7bf54>}</span>
</span></span><span style=display:flex><span>        <span style=color:#c678dd>return</span> <span style=color:#c678dd>new</span> <span style=color:#c1abea>Matrix</span><span style=color:#c7bf54>(</span><span style=color:#c1abea>submat</span><span style=color:#c7bf54>).</span><span style=color:#b3d23c>det</span><span style=color:#c7bf54>();</span>
</span></span><span style=display:flex><span>    <span style=color:#c7bf54>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#c678dd>public</span> <span style=color:#ef8383>double</span> <span style=color:#00b1f7>det</span><span style=color:#c7bf54>()</span> <span style=color:#c7bf54>{</span>
</span></span><span style=display:flex><span>        <span style=color:#8a93a5;font-style:italic>// size only 2 or 3
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>        <span style=color:#c678dd>if</span> <span style=color:#c7bf54>(</span><span style=color:#c1abea>size</span> <span style=color:#c7bf54>==</span> <span style=color:#d19a66>2</span><span style=color:#c7bf54>)</span> <span style=color:#c7bf54>{</span>
</span></span><span style=display:flex><span>            <span style=color:#c678dd>return</span> <span style=color:#c1abea>mat</span><span style=color:#c7bf54>[</span><span style=color:#d19a66>0</span><span style=color:#c7bf54>][</span><span style=color:#d19a66>0</span><span style=color:#c7bf54>]</span> <span style=color:#c7bf54>*</span> <span style=color:#c1abea>mat</span><span style=color:#c7bf54>[</span><span style=color:#d19a66>1</span><span style=color:#c7bf54>][</span><span style=color:#d19a66>1</span><span style=color:#c7bf54>]</span> <span style=color:#c7bf54>-</span> <span style=color:#c1abea>mat</span><span style=color:#c7bf54>[</span><span style=color:#d19a66>0</span><span style=color:#c7bf54>][</span><span style=color:#d19a66>1</span><span style=color:#c7bf54>]</span> <span style=color:#c7bf54>*</span> <span style=color:#c1abea>mat</span><span style=color:#c7bf54>[</span><span style=color:#d19a66>1</span><span style=color:#c7bf54>][</span><span style=color:#d19a66>0</span><span style=color:#c7bf54>];</span>
</span></span><span style=display:flex><span>        <span style=color:#c7bf54>}</span> <span style=color:#c678dd>else</span> <span style=color:#c678dd>if</span> <span style=color:#c7bf54>(</span><span style=color:#c1abea>size</span> <span style=color:#c7bf54>==</span> <span style=color:#d19a66>3</span><span style=color:#c7bf54>)</span> <span style=color:#c7bf54>{</span>
</span></span><span style=display:flex><span>            <span style=color:#ef8383>double</span> <span style=color:#c1abea>ret</span> <span style=color:#c7bf54>=</span> <span style=color:#d19a66>0</span><span style=color:#c7bf54>;</span>
</span></span><span style=display:flex><span>            <span style=color:#c678dd>for</span> <span style=color:#c7bf54>(</span><span style=color:#ef8383>int</span> <span style=color:#c1abea>i</span> <span style=color:#c7bf54>=</span> <span style=color:#d19a66>0</span><span style=color:#c7bf54>;</span> <span style=color:#c1abea>i</span> <span style=color:#c7bf54>&lt;</span> <span style=color:#d19a66>3</span><span style=color:#c7bf54>;</span> <span style=color:#c1abea>i</span><span style=color:#c7bf54>++)</span> <span style=color:#c7bf54>{</span>
</span></span><span style=display:flex><span>                <span style=color:#c1abea>ret</span> <span style=color:#c7bf54>+=</span> <span style=color:#c1abea>mat</span><span style=color:#c7bf54>[</span><span style=color:#d19a66>0</span><span style=color:#c7bf54>][</span><span style=color:#c1abea>i</span><span style=color:#c7bf54>]</span> <span style=color:#c7bf54>*</span> <span style=color:#c1abea>_subdet</span><span style=color:#c7bf54>(</span><span style=color:#d19a66>0</span><span style=color:#c7bf54>,</span> <span style=color:#c1abea>i</span><span style=color:#c7bf54>)</span> <span style=color:#c7bf54>*</span> <span style=color:#c7bf54>(</span><span style=color:#c1abea>i</span> <span style=color:#c7bf54>%</span> <span style=color:#d19a66>2</span> <span style=color:#c7bf54>==</span> <span style=color:#d19a66>0</span> <span style=color:#c7bf54>?</span> <span style=color:#d19a66>1</span> <span style=color:#c7bf54>:</span> <span style=color:#c7bf54>-</span><span style=color:#d19a66>1</span><span style=color:#c7bf54>);</span> <span style=color:#8a93a5;font-style:italic>// aA - bB + cC
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>            <span style=color:#c7bf54>}</span>
</span></span><span style=display:flex><span>            <span style=color:#c678dd>return</span> <span style=color:#c1abea>ret</span><span style=color:#c7bf54>;</span>
</span></span><span style=display:flex><span>        <span style=color:#c7bf54>}</span>
</span></span><span style=display:flex><span>        <span style=color:#c678dd>return</span> <span style=color:#d19a66>0</span><span style=color:#c7bf54>;</span>
</span></span><span style=display:flex><span>    <span style=color:#c7bf54>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#c678dd>public</span> <span style=color:#c1abea>Matrix</span> <span style=color:#00b1f7>inverse</span><span style=color:#c7bf54>()</span> <span style=color:#c7bf54>{</span>
</span></span><span style=display:flex><span>        <span style=color:#c678dd>if</span> <span style=color:#c7bf54>(</span><span style=color:#c1abea>size</span> <span style=color:#c7bf54>==</span> <span style=color:#d19a66>2</span><span style=color:#c7bf54>)</span> <span style=color:#c7bf54>{</span>
</span></span><span style=display:flex><span>            <span style=color:#ef8383>double</span> <span style=color:#c1abea>det</span> <span style=color:#c7bf54>=</span> <span style=color:#c1abea>det</span><span style=color:#c7bf54>();</span>
</span></span><span style=display:flex><span>            <span style=color:#ef8383>double</span><span style=color:#c7bf54>[][]</span> <span style=color:#c1abea>inv</span> <span style=color:#c7bf54>=</span> <span style=color:#c678dd>new</span> <span style=color:#ef8383>double</span><span style=color:#c7bf54>[][]</span> <span style=color:#c7bf54>{</span> <span style=color:#c7bf54>{</span> <span style=color:#c1abea>mat</span><span style=color:#c7bf54>[</span><span style=color:#d19a66>1</span><span style=color:#c7bf54>][</span><span style=color:#d19a66>1</span><span style=color:#c7bf54>],</span> <span style=color:#c7bf54>-</span><span style=color:#c1abea>mat</span><span style=color:#c7bf54>[</span><span style=color:#d19a66>0</span><span style=color:#c7bf54>][</span><span style=color:#d19a66>1</span><span style=color:#c7bf54>]</span> <span style=color:#c7bf54>},</span> <span style=color:#c7bf54>{</span> <span style=color:#c7bf54>-</span><span style=color:#c1abea>mat</span><span style=color:#c7bf54>[</span><span style=color:#d19a66>1</span><span style=color:#c7bf54>][</span><span style=color:#d19a66>0</span><span style=color:#c7bf54>],</span> <span style=color:#c1abea>mat</span><span style=color:#c7bf54>[</span><span style=color:#d19a66>0</span><span style=color:#c7bf54>][</span><span style=color:#d19a66>0</span><span style=color:#c7bf54>]</span> <span style=color:#c7bf54>}</span> <span style=color:#c7bf54>};</span>
</span></span><span style=display:flex><span>            <span style=color:#c678dd>for</span> <span style=color:#c7bf54>(</span><span style=color:#ef8383>int</span> <span style=color:#c1abea>i</span> <span style=color:#c7bf54>=</span> <span style=color:#d19a66>0</span><span style=color:#c7bf54>;</span> <span style=color:#c1abea>i</span> <span style=color:#c7bf54>&lt;</span> <span style=color:#d19a66>2</span><span style=color:#c7bf54>;</span> <span style=color:#c1abea>i</span><span style=color:#c7bf54>++)</span> <span style=color:#c7bf54>{</span>
</span></span><span style=display:flex><span>                <span style=color:#c678dd>for</span> <span style=color:#c7bf54>(</span><span style=color:#ef8383>int</span> <span style=color:#c1abea>j</span> <span style=color:#c7bf54>=</span> <span style=color:#d19a66>0</span><span style=color:#c7bf54>;</span> <span style=color:#c1abea>j</span> <span style=color:#c7bf54>&lt;</span> <span style=color:#d19a66>2</span><span style=color:#c7bf54>;</span> <span style=color:#c1abea>j</span><span style=color:#c7bf54>++)</span> <span style=color:#c7bf54>{</span>
</span></span><span style=display:flex><span>                    <span style=color:#c1abea>inv</span><span style=color:#c7bf54>[</span><span style=color:#c1abea>i</span><span style=color:#c7bf54>][</span><span style=color:#c1abea>j</span><span style=color:#c7bf54>]</span> <span style=color:#c7bf54>/=</span> <span style=color:#c1abea>det</span><span style=color:#c7bf54>;</span>
</span></span><span style=display:flex><span>                <span style=color:#c7bf54>}</span>
</span></span><span style=display:flex><span>            <span style=color:#c7bf54>}</span>
</span></span><span style=display:flex><span>            <span style=color:#c678dd>return</span> <span style=color:#c678dd>new</span> <span style=color:#c1abea>Matrix</span><span style=color:#c7bf54>(</span><span style=color:#c1abea>inv</span><span style=color:#c7bf54>);</span>
</span></span><span style=display:flex><span>        <span style=color:#c7bf54>}</span> <span style=color:#c678dd>else</span> <span style=color:#c678dd>if</span> <span style=color:#c7bf54>(</span><span style=color:#c1abea>size</span> <span style=color:#c7bf54>==</span> <span style=color:#d19a66>3</span><span style=color:#c7bf54>)</span> <span style=color:#c7bf54>{</span>
</span></span><span style=display:flex><span>            <span style=color:#ef8383>double</span> <span style=color:#c1abea>det</span> <span style=color:#c7bf54>=</span> <span style=color:#c1abea>det</span><span style=color:#c7bf54>();</span>
</span></span><span style=display:flex><span>            <span style=color:#ef8383>double</span><span style=color:#c7bf54>[][]</span> <span style=color:#c1abea>inv</span> <span style=color:#c7bf54>=</span> <span style=color:#c678dd>new</span> <span style=color:#ef8383>double</span><span style=color:#c7bf54>[</span><span style=color:#d19a66>3</span><span style=color:#c7bf54>][</span><span style=color:#d19a66>3</span><span style=color:#c7bf54>];</span>
</span></span><span style=display:flex><span>            <span style=color:#c678dd>for</span> <span style=color:#c7bf54>(</span><span style=color:#ef8383>int</span> <span style=color:#c1abea>i</span> <span style=color:#c7bf54>=</span> <span style=color:#d19a66>0</span><span style=color:#c7bf54>;</span> <span style=color:#c1abea>i</span> <span style=color:#c7bf54>&lt;</span> <span style=color:#d19a66>3</span><span style=color:#c7bf54>;</span> <span style=color:#c1abea>i</span><span style=color:#c7bf54>++)</span> <span style=color:#c7bf54>{</span>
</span></span><span style=display:flex><span>                <span style=color:#c678dd>for</span> <span style=color:#c7bf54>(</span><span style=color:#ef8383>int</span> <span style=color:#c1abea>j</span> <span style=color:#c7bf54>=</span> <span style=color:#d19a66>0</span><span style=color:#c7bf54>;</span> <span style=color:#c1abea>j</span> <span style=color:#c7bf54>&lt;</span> <span style=color:#d19a66>3</span><span style=color:#c7bf54>;</span> <span style=color:#c1abea>j</span><span style=color:#c7bf54>++)</span> <span style=color:#c7bf54>{</span>
</span></span><span style=display:flex><span>                    <span style=color:#c1abea>inv</span><span style=color:#c7bf54>[</span><span style=color:#c1abea>i</span><span style=color:#c7bf54>][</span><span style=color:#c1abea>j</span><span style=color:#c7bf54>]</span> <span style=color:#c7bf54>=</span> <span style=color:#c1abea>_subdet</span><span style=color:#c7bf54>(</span><span style=color:#c1abea>i</span><span style=color:#c7bf54>,</span> <span style=color:#c1abea>j</span><span style=color:#c7bf54>);</span>
</span></span><span style=display:flex><span>                    <span style=color:#c678dd>if</span> <span style=color:#c7bf54>((</span><span style=color:#c1abea>i</span> <span style=color:#c7bf54>+</span> <span style=color:#c1abea>j</span><span style=color:#c7bf54>)</span> <span style=color:#c7bf54>%</span> <span style=color:#d19a66>2</span> <span style=color:#c7bf54>==</span> <span style=color:#d19a66>1</span><span style=color:#c7bf54>)</span>
</span></span><span style=display:flex><span>                        <span style=color:#c1abea>inv</span><span style=color:#c7bf54>[</span><span style=color:#c1abea>i</span><span style=color:#c7bf54>][</span><span style=color:#c1abea>j</span><span style=color:#c7bf54>]</span> <span style=color:#c7bf54>*=</span> <span style=color:#c7bf54>-</span><span style=color:#d19a66>1</span><span style=color:#c7bf54>;</span>
</span></span><span style=display:flex><span>                <span style=color:#c7bf54>}</span>
</span></span><span style=display:flex><span>            <span style=color:#c7bf54>}</span>
</span></span><span style=display:flex><span>            <span style=color:#c1abea>Matrix</span> <span style=color:#c1abea>ret</span> <span style=color:#c7bf54>=</span> <span style=color:#c678dd>new</span> <span style=color:#c1abea>Matrix</span><span style=color:#c7bf54>(</span><span style=color:#c1abea>inv</span><span style=color:#c7bf54>);</span>
</span></span><span style=display:flex><span>            <span style=color:#c1abea>ret</span> <span style=color:#c7bf54>=</span> <span style=color:#c1abea>ret</span><span style=color:#c7bf54>.</span><span style=color:#b3d23c>transpose</span><span style=color:#c7bf54>();</span>
</span></span><span style=display:flex><span>            <span style=color:#c678dd>for</span> <span style=color:#c7bf54>(</span><span style=color:#ef8383>int</span> <span style=color:#c1abea>i</span> <span style=color:#c7bf54>=</span> <span style=color:#d19a66>0</span><span style=color:#c7bf54>;</span> <span style=color:#c1abea>i</span> <span style=color:#c7bf54>&lt;</span> <span style=color:#d19a66>3</span><span style=color:#c7bf54>;</span> <span style=color:#c1abea>i</span><span style=color:#c7bf54>++)</span> <span style=color:#c7bf54>{</span>
</span></span><span style=display:flex><span>                <span style=color:#c678dd>for</span> <span style=color:#c7bf54>(</span><span style=color:#ef8383>int</span> <span style=color:#c1abea>j</span> <span style=color:#c7bf54>=</span> <span style=color:#d19a66>0</span><span style=color:#c7bf54>;</span> <span style=color:#c1abea>j</span> <span style=color:#c7bf54>&lt;</span> <span style=color:#d19a66>3</span><span style=color:#c7bf54>;</span> <span style=color:#c1abea>j</span><span style=color:#c7bf54>++)</span> <span style=color:#c7bf54>{</span>
</span></span><span style=display:flex><span>                    <span style=color:#c1abea>ret</span><span style=color:#c7bf54>.</span><span style=color:#b3d23c>mat</span><span style=color:#c7bf54>[</span><span style=color:#c1abea>i</span><span style=color:#c7bf54>][</span><span style=color:#c1abea>j</span><span style=color:#c7bf54>]</span> <span style=color:#c7bf54>/=</span> <span style=color:#c1abea>det</span><span style=color:#c7bf54>;</span>
</span></span><span style=display:flex><span>                <span style=color:#c7bf54>}</span>
</span></span><span style=display:flex><span>            <span style=color:#c7bf54>}</span>
</span></span><span style=display:flex><span>            <span style=color:#c678dd>return</span> <span style=color:#c1abea>ret</span><span style=color:#c7bf54>;</span>
</span></span><span style=display:flex><span>        <span style=color:#c7bf54>}</span>
</span></span><span style=display:flex><span>        <span style=color:#c678dd>return</span> <span style=color:#b756ff;font-weight:700>null</span><span style=color:#c7bf54>;</span> <span style=color:#8a93a5;font-style:italic>// bad size
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#c7bf54>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#c678dd>public</span> <span style=color:#ef8383>double</span><span style=color:#c7bf54>[]</span> <span style=color:#00b1f7>multiply_vector</span><span style=color:#c7bf54>(</span><span style=color:#ef8383>double</span><span style=color:#c7bf54>[]</span> <span style=color:#c1abea>vec</span><span style=color:#c7bf54>)</span> <span style=color:#c7bf54>{</span>
</span></span><span style=display:flex><span>        <span style=color:#c678dd>assert</span> <span style=color:#c1abea>vec</span><span style=color:#c7bf54>.</span><span style=color:#b3d23c>length</span> <span style=color:#c7bf54>==</span> <span style=color:#c1abea>size</span><span style=color:#c7bf54>;</span>
</span></span><span style=display:flex><span>        <span style=color:#ef8383>double</span><span style=color:#c7bf54>[]</span> <span style=color:#c1abea>ret</span> <span style=color:#c7bf54>=</span> <span style=color:#c678dd>new</span> <span style=color:#ef8383>double</span><span style=color:#c7bf54>[</span><span style=color:#c1abea>size</span><span style=color:#c7bf54>];</span>
</span></span><span style=display:flex><span>        <span style=color:#c678dd>for</span> <span style=color:#c7bf54>(</span><span style=color:#ef8383>int</span> <span style=color:#c1abea>i</span> <span style=color:#c7bf54>=</span> <span style=color:#d19a66>0</span><span style=color:#c7bf54>;</span> <span style=color:#c1abea>i</span> <span style=color:#c7bf54>&lt;</span> <span style=color:#c1abea>size</span><span style=color:#c7bf54>;</span> <span style=color:#c1abea>i</span><span style=color:#c7bf54>++)</span> <span style=color:#c7bf54>{</span>
</span></span><span style=display:flex><span>            <span style=color:#c678dd>for</span> <span style=color:#c7bf54>(</span><span style=color:#ef8383>int</span> <span style=color:#c1abea>j</span> <span style=color:#c7bf54>=</span> <span style=color:#d19a66>0</span><span style=color:#c7bf54>;</span> <span style=color:#c1abea>j</span> <span style=color:#c7bf54>&lt;</span> <span style=color:#c1abea>size</span><span style=color:#c7bf54>;</span> <span style=color:#c1abea>j</span><span style=color:#c7bf54>++)</span> <span style=color:#c7bf54>{</span>
</span></span><span style=display:flex><span>                <span style=color:#c1abea>ret</span><span style=color:#c7bf54>[</span><span style=color:#c1abea>i</span><span style=color:#c7bf54>]</span> <span style=color:#c7bf54>+=</span> <span style=color:#c1abea>mat</span><span style=color:#c7bf54>[</span><span style=color:#c1abea>i</span><span style=color:#c7bf54>][</span><span style=color:#c1abea>j</span><span style=color:#c7bf54>]</span> <span style=color:#c7bf54>*</span> <span style=color:#c1abea>vec</span><span style=color:#c7bf54>[</span><span style=color:#c1abea>j</span><span style=color:#c7bf54>];</span>
</span></span><span style=display:flex><span>            <span style=color:#c7bf54>}</span>
</span></span><span style=display:flex><span>        <span style=color:#c7bf54>}</span>
</span></span><span style=display:flex><span>        <span style=color:#c678dd>return</span> <span style=color:#c1abea>ret</span><span style=color:#c7bf54>;</span>
</span></span><span style=display:flex><span>    <span style=color:#c7bf54>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#c678dd>public</span> <span style=color:#c1abea>String</span> <span style=color:#00b1f7>toString</span><span style=color:#c7bf54>()</span> <span style=color:#c7bf54>{</span>
</span></span><span style=display:flex><span>        <span style=color:#c1abea>String</span> <span style=color:#c1abea>ret</span> <span style=color:#c7bf54>=</span> <span style=color:#98c379>&#34;&#34;</span><span style=color:#c7bf54>;</span>
</span></span><span style=display:flex><span>        <span style=color:#c678dd>for</span> <span style=color:#c7bf54>(</span><span style=color:#ef8383>int</span> <span style=color:#c1abea>i</span> <span style=color:#c7bf54>=</span> <span style=color:#d19a66>0</span><span style=color:#c7bf54>;</span> <span style=color:#c1abea>i</span> <span style=color:#c7bf54>&lt;</span> <span style=color:#c1abea>size</span><span style=color:#c7bf54>;</span> <span style=color:#c1abea>i</span><span style=color:#c7bf54>++)</span> <span style=color:#c7bf54>{</span>
</span></span><span style=display:flex><span>            <span style=color:#c678dd>for</span> <span style=color:#c7bf54>(</span><span style=color:#ef8383>int</span> <span style=color:#c1abea>j</span> <span style=color:#c7bf54>=</span> <span style=color:#d19a66>0</span><span style=color:#c7bf54>;</span> <span style=color:#c1abea>j</span> <span style=color:#c7bf54>&lt;</span> <span style=color:#c1abea>size</span><span style=color:#c7bf54>;</span> <span style=color:#c1abea>j</span><span style=color:#c7bf54>++)</span> <span style=color:#c7bf54>{</span>
</span></span><span style=display:flex><span>                <span style=color:#c1abea>ret</span> <span style=color:#c7bf54>+=</span> <span style=color:#c1abea>mat</span><span style=color:#c7bf54>[</span><span style=color:#c1abea>i</span><span style=color:#c7bf54>][</span><span style=color:#c1abea>j</span><span style=color:#c7bf54>]</span> <span style=color:#c7bf54>+</span> <span style=color:#98c379>&#34; &#34;</span><span style=color:#c7bf54>;</span>
</span></span><span style=display:flex><span>            <span style=color:#c7bf54>}</span>
</span></span><span style=display:flex><span>            <span style=color:#c1abea>ret</span> <span style=color:#c7bf54>+=</span> <span style=color:#98c379>&#34;\n&#34;</span><span style=color:#c7bf54>;</span>
</span></span><span style=display:flex><span>        <span style=color:#c7bf54>}</span>
</span></span><span style=display:flex><span>        <span style=color:#c678dd>return</span> <span style=color:#c1abea>ret</span><span style=color:#c7bf54>;</span>
</span></span><span style=display:flex><span>    <span style=color:#c7bf54>}</span>
</span></span><span style=display:flex><span><span style=color:#c7bf54>}</span>
</span></span></code></pre></td></tr></table></div></div><p>I do have this small tidbit before printing</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span>            <span style=color:#c678dd>for</span> <span style=color:#c7bf54>(</span><span style=color:#ef8383>int</span> <span style=color:#c1abea>i</span> <span style=color:#c7bf54>=</span> <span style=color:#d19a66>0</span><span style=color:#c7bf54>;</span> <span style=color:#c1abea>i</span> <span style=color:#c7bf54>&lt;</span> <span style=color:#c1abea>n</span><span style=color:#c7bf54>;</span> <span style=color:#c1abea>i</span><span style=color:#c7bf54>++)</span> <span style=color:#c7bf54>{</span>
</span></span><span style=display:flex><span>                <span style=color:#c678dd>if</span> <span style=color:#c7bf54>(</span><span style=color:#c1abea>Math</span><span style=color:#c7bf54>.</span><span style=color:#b3d23c>abs</span><span style=color:#c7bf54>(</span><span style=color:#c1abea>ans</span><span style=color:#c7bf54>[</span><span style=color:#c1abea>i</span><span style=color:#c7bf54>])</span> <span style=color:#c7bf54>&lt;</span> <span style=color:#d19a66>1e-4</span><span style=color:#c7bf54>)</span>
</span></span><span style=display:flex><span>                    <span style=color:#c1abea>ans</span><span style=color:#c7bf54>[</span><span style=color:#c1abea>i</span><span style=color:#c7bf54>]</span> <span style=color:#c7bf54>=</span> <span style=color:#d19a66>0</span><span style=color:#c7bf54>;</span>
</span></span><span style=display:flex><span>            <span style=color:#c7bf54>}</span>
</span></span></code></pre></td></tr></table></div></div><p>This is because sometimes the float multiplication isn&rsquo;t entirely accurate and might cause the <code>printf</code> to output something like <code>-0.000</code>, which this code fixes.</p><h2 id=conclusion>Conclusion</h2><p>There are also a few other ways to solve this problem, including Gaussian Elimination, but I chose to do it this way because it&rsquo;s very generalizable and you don&rsquo;t have to worry
about weird row operations. I hope this writeup helped you understand this method and hopefully you&rsquo;ll be able to use it in the future.</p><p>If you have any questions or suggestions, feel free to DM me on discord. Thanks for reading!</p></div></div></main></div><script>function handle_open(e){let t=e.target;e.target.tagName==="SUMMARY"&&(t=e.target.querySelector(".code-summary-inner")),t.classList.toggle("open"),t.classList.contains("open")?t.textContent="Click to collapse "+t.textContent.split(" ").slice(3).join(" "):t.textContent="Click to expand "+t.textContent.split(" ").slice(3).join(" ")}let code_divs=document.querySelectorAll("div.highlight"),to_remove=[];for(let e of code_divs){let t="",n=e.previousElementSibling;n.tagName=="P"&&(n=n.textContent,n.startsWith("filename")&&(t=n.split("=")[1].trim(),to_remove.push(e.previousElementSibling)));let s=e.querySelector("pre code"),o=s.textContent.split(`
`).length;if(t!==""||o>10){let n=document.createElement("details"),o=document.createElement("summary"),i=document.createElement("span");i.textContent="Click to expand",t!==""&&(i.textContent+=" "+t,n.setAttribute("id",t)),i.classList.add("code-summary-inner"),o.appendChild(i),o.addEventListener("click",handle_open),o.classList.add("code-summary"),s.classList.add("code-inner"),e.parentNode.insertBefore(n,e),n.appendChild(o),n.appendChild(e),n.classList.add("code-wrapper")}}for(let e of to_remove)e.remove();let anchors=document.querySelectorAll(".postWrapper a");for(let e of anchors)e.host!==window.location.host&&(e.setAttribute("target","_blank"),e.setAttribute("rel","noopener noreferrer"));let headers=document.querySelectorAll(".postWrapper div h1, .postWrapper div h2, .postWrapper div h3, .postWrapper div h4, .postWrappe div h5, .postWrapper div h6");for(let t of headers){let n=t.getAttribute("id"),e=document.createElement("a");e.setAttribute("href","#"+n),e.classList.add("header-link"),e.textContent="#",t.append(e)}</script><footer class=footer>© 2023 flocto, Built with
<a href=https://gohugo.io class=footerLink>Hugo</a> and (an edited)
<a href=https://github.com/LordMathis/hugo-theme-nightfall class=footerLink>Nightfall</a> theme</footer><script>MathJax={tex:{inlineMath:[["$","$"],["\\(","\\)"]],displayMath:[["$$","$$"],["\\[","\\]"]],processEscapes:!0,processEnvironments:!0},options:{skipHtmlTags:["script","noscript","style","textarea","pre"]}},window.addEventListener("load",e=>{document.querySelectorAll("mjx-container").forEach(function(e){e.parentElement.classList+="has-jax"})})</script><script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
<script type=text/javascript id=MathJax-script async src=https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js></script></div></body></html>